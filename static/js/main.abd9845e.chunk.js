(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{256:function(e,t,n){},282:function(e,t,n){},497:function(e,t,n){},498:function(e,t,n){},499:function(e,t,n){},500:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){"use strict";n.r(t);var r,s,i,o=n(0),a=n.n(o),c=n(23),l=n.n(c),d=n(7),u=n(41),h=n(513),f=n(17),b=n(4),p=n(24),j=n(13),O=n(38),m=function(){return Object(O.c)()},g=O.d,x=n(35),v=Object(x.b)({name:"file",initialState:{name:"ex.smt2",value:'digraph proof {\n\trankdir="BT";\n\tnode [shape=record];\n\t0 [label="{SCOPE((not a), a)|(not (and (not a) a))}", class = " basic ", comment = "{\'subProofQty\':1}" ];\n\t1 [label="{CHAIN_RESOLUTION(true, a)|false}", class = " propositional ", comment = "{\'subProofQty\':2}" ];\n\t2 [label="{ASSUME(a)|a}", comment = "{\'subProofQty\':0}"];\n\t3 [label="{ASSUME((not a))|(not a)}", comment = "{\'subProofQty\':0}"];\n\t1->0;\n\t2->1;\n\t3->1;\n}',filesCount:0},reducers:{set:function(e,t){e.name=t.payload.name,e.value!==t.payload.value&&(e.value=t.payload.value,e.filesCount++)}}}),y=v.actions.set,N=function(e){return e.file.name},w=function(e){return"json"===e.file.name.split(".").pop()?JSON.parse(e.file.value).dot:e.file.value},E=function(e){return e.file.filesCount},C=v.reducer;function S(e){for(var t="",n=0;n<e.length;n+=1)("\\"!==e[n]||'"'!==e[n+1]&&">"!==e[n+1]&&"<"!==e[n+1]&&"{"!==e[n+1]&&"}"!==e[n+1]&&"|"!==e[n+1])&&(t+=e[n]);return t}!function(e){e[e.RULE=0]="RULE",e[e.ARGS=1]="ARGS",e[e.CONC=2]="CONC",e[e.ALL=3]="ALL"}(r||(r={})),function(e){e[e.EXPAND=0]="EXPAND",e[e.REVERT=1]="REVERT"}(s||(s={})),function(e){e[e.NONE=0]="NONE",e[e.SAT=1]="SAT",e[e.CNF=2]="CNF",e[e.TL=3]="TL",e[e.PP=4]="PP",e[e.IN=5]="IN"}(i||(i={}));var I=function e(t,n){return t[n].children.concat(t[n].children.reduce((function(n,r){return n.concat(e(t,r))}),[]))},k=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t[r];if(r&&-1===n[i.id]){for(var o={},a=0;a<i.parents.length;a++){var c=i.parents[a];if(t[c].clusterType===i.clusterType){o[c]=n[c];break}}var l=Object.keys(o);if(l.length){var d=o[Number(l[0])];s[d].push(i.id),n[i.id]=d}else{var u=s.length;n[i.id]=u,s.push([i.id]),t[i.parents[0]].children.forEach((function(e){t[e].clusterType===i.clusterType&&e!==i.id&&(s[u].push(e),n[e]=u)}))}}return i.children.forEach((function(r){e(t,n,r,s)})),s},R=function(e,t,n){return n?[e[0].conclusion].concat(t.filter((function(e){return e.type===i.TL})).map((function(t){return e[t.hiddenNodes[0]].conclusion}))):e.filter((function(e){return"SCOPE"===e.rule})).map((function(e){return e.conclusion}))},T=function(e){var t="#fff";switch(e){case"red":t="#f72b34";break;case"orange":t="#ff8334";break;case"yellow":t="#ffc149";break;case"green":t="#60aa51";break;case"blue":t="#0097e4";break;case"purple":t="#a73da5";break;case"brown":t="#a95a49";break;case"black":t="#464646";break;case"white":t="#f0f0f0"}return t},F=Object(x.b)({name:"proof",initialState:{proof:[],view:"full",style:"graph",hiddenNodes:[],letMap:{},theoryLemmaMap:[],visualInfo:[],clustersInfos:[]},reducers:{process:function(e,t){var n;e.clustersInfos=[];var r=t.payload,s=!1;-1!==r.indexOf('{"dot":"')&&(r=(n=JSON.parse(r)).dot,s=!0);var o=function(e){var t=[{id:0,conclusion:"",rule:"",args:"",children:[],parents:[NaN],descendants:0,dependencies:[],clusterType:i.NONE}],n=e.slice(e.indexOf("comment="));n=n?S(S(n.slice(n.indexOf("=")+2,n.indexOf(";")-1))):null;var r={};return e.slice(e.indexOf("{")+1,e.lastIndexOf("}")-2).replace(/(\n|\t)/gm,"").split(";").forEach((function(e){if(-1!==e.search("subgraph")){for(var n="",s=e.indexOf('label="')+7;'"'!==e[s];)n+=e[s],s++;var o="";for(s=e.indexOf('bgcolor="')+9;'"'!==e[s];)o+=e[s],s++;var a,c=e.substring(s+1,e.length-1).split(/\s/).filter((function(e){return e.length})).map((function(e){return Number(e)}));switch(n){case"SAT":a=i.SAT;break;case"CNF":a=i.CNF;break;case"TL":a=i.TL;break;case"PP":a=i.PP;break;case"IN":a=i.IN;break;default:a=i.NONE}c.forEach((function(e){t[e].clusterType=a})),r[a]=o}else if(-1!==e.search("label")){var l,u,h=parseInt(e.slice(0,e.indexOf("[")).trim()),f=e.slice(e.indexOf("[")+1,e.lastIndexOf("]")).trim(),b=f.slice(f.search(/(?<!\\)"/)+2),p="",j=(b=b.slice(0,b.search(/(?<!\\)"/)-1)).split(/(?<!\\)\|/),O=Object(d.a)(j,2);l=O[0];var m=-1!=(p=O[1]).indexOf(" :args ")?p.split(" :args "):[p,""],g=Object(d.a)(m,2);p=g[0],u=g[1];var x=S(e.slice(e.indexOf("comment"),e.lastIndexOf('"'))),v=JSON.parse(x.slice(x.indexOf('"')+1).replace(/'/g,'"'));t[h]||(t[h]={id:h,conclusion:"",rule:"",args:"",children:[],parents:[NaN],descendants:0,dependencies:[],clusterType:i.NONE}),t[h].conclusion=S(l),t[h].rule=S(p),t[h].args=S(u),t[h].descendants=v.subProofQty}else if(-1!==e.search("->")){var y=e.split("->").map((function(e){return parseInt(e.trim())})),N=Object(d.a)(y,2),w=N[0],E=N[1];t[E].children.push(w),t[w]?isNaN(t[w].parents[0])&&(t[w].parents=[]):t[w]={id:w,conclusion:"",rule:"",args:"",children:[],parents:[],descendants:0,dependencies:[],clusterType:i.NONE},t[w].parents.push(E)}})),n?[t,JSON.parse(n).letMap,r]:[t,{},r]}(r),a=Object(d.a)(o,3),c=a[0],l=a[1],u=a[2];e.proof=c,e.letMap=l,e.view="full";var h=[];if(Object.keys(u).length){e.view="clustered";var f=Array(e.proof.length).fill(-1);(h=k(e.proof,f)).forEach((function(t){var n=e.proof[t[0]].clusterType;e.clustersInfos.push({hiddenNodes:t,type:n,color:T(u[n])})})),e.theoryLemmaMap=R(e.proof,e.clustersInfos,!0)}else e.theoryLemmaMap=R(e.proof,e.clustersInfos,!1);if(s)e.view=n.view,e.hiddenNodes=n.hiddenNodes,e.visualInfo=n.visualInfo;else{e.hiddenNodes=h.filter((function(e){return e.length>1}));var b={};e.proof.forEach((function(e){b[e.id]={color:"#fff",x:0,y:0,selected:!1}}));var p=e.proof.length;e.clustersInfos.forEach((function(e){b[1!==e.hiddenNodes.length?p++:e.hiddenNodes[0]]={color:e.color,x:0,y:0,selected:!1}})),e.visualInfo=b}},hideNodes:function(e,t){var n=t.payload.filter((function(t){return t>0&&t<e.proof.length&&e.hiddenNodes.every((function(e){return-1===e.indexOf(t)}))})),r=function(e,t){var n=Object(j.a)(t),r=[],s=0,i=n.map((function(t){return e[t].parents}));i.forEach((function(e,t){s!==i.length&&i[t].length&&(r.push([]),i.forEach((function(t,o){i[o].length&&e.some((function(e){return-1!==t.indexOf(e)}))&&(r[r.length-1].push(n[o]),i[o]=[],s++)})))}));for(var o=[];JSON.stringify(o)!=JSON.stringify(r);)o=[].concat(r),r.forEach((function(t,n){var s=e[t[0]].parents;r.forEach((function(e,t){e.some((function(e){return-1!==s.indexOf(e)}))&&(r[t]=r[t].concat(r[n]),r.splice(n,1),n--)}))}));return r.filter((function(e){return e.length>1}))}(e.proof,n);e.hiddenNodes=e.hiddenNodes.concat(r).filter((function(e){return e.length>0}));for(var s=Object.keys(e.visualInfo).length,i=0;i<r.length;i++)e.visualInfo=Object(b.a)(Object(b.a)({},e.visualInfo),{},Object(p.a)({},s+i,{color:"#555",x:0,y:0,selected:!1}));n.forEach((function(t){return e.visualInfo[t]=Object(b.a)(Object(b.a)({},e.visualInfo[t]),{},{selected:!1})}))},foldAllDescendants:function(e,t){var n;e.hiddenNodes=e.hiddenNodes.concat([[t.payload].concat(Object(j.a)(I(e.proof,t.payload))).filter((function(t,n,r){return t>0&&t<e.proof.length&&e.hiddenNodes.every((function(e){return-1===e.indexOf(t)}))&&r.indexOf(t)===n}))]).filter((function(e){return e.length>0}));var r=Object.keys(e.visualInfo).length;e.visualInfo=Object(b.a)(Object(b.a)({},e.visualInfo),{},(n={},Object(p.a)(n,t.payload,Object(b.a)(Object(b.a)({},e.visualInfo[t.payload]),{},{selected:!1})),Object(p.a)(n,r,{color:"#555",x:0,y:0,selected:!1}),n))},unhideNodes:function(e,t){var n=t.payload,r=n.pi,s=n.hiddens;e.hiddenNodes=e.hiddenNodes.map((function(e){return e.filter((function(e){return-1===s.indexOf(e)}))})).filter((function(e){return e.length>0}));for(var i=Object.keys(e.visualInfo).length,o=r;o<i-1;o++)e.visualInfo[o]=e.visualInfo[o+1];delete e.visualInfo[i-1],s.forEach((function(t){return e.visualInfo[t]=Object(b.a)(Object(b.a)({},e.visualInfo[t]),{},{selected:!1})}))},setVisualInfo:function(e,t){e.visualInfo=t.payload},selectNodes:function(e,t){var n=Object.keys(e.visualInfo).length;t.payload.forEach((function(t){t>=0&&t<n&&(e.visualInfo[t].selected=!0)}))},unselectNodes:function(e,t){var n=Object.keys(e.visualInfo).length;t.payload.forEach((function(t){t>=0&&t<n&&(e.visualInfo[t].selected=!1)}))},changeStyle:function(e,t){switch(t.payload){case"graph":e.style="graph";break;case"directory":e.style="directory"}},applyView:function(e,t){for(var n=Object.keys(e.visualInfo).length,r=e.proof.length,s=0;s<n-r;s++)delete e.visualInfo[r+s];switch(t.payload){case"full":(e.hiddenNodes.length||"colored-full"===e.view)&&(e.proof.forEach((function(t){e.visualInfo[t.id]={color:"#fff",x:0,y:0,selected:!1}})),e.hiddenNodes=[]),e.view="full";break;case"clustered":if(e.clustersInfos.length){e.view="clustered",e.hiddenNodes=[];var i=Object.keys(e.visualInfo).length;e.clustersInfos.forEach((function(t){1!==t.hiddenNodes.length?(e.visualInfo[i++]={color:t.color,x:0,y:0,selected:!1},e.hiddenNodes.push(t.hiddenNodes)):e.visualInfo[t.hiddenNodes[0]]={color:t.color,x:0,y:0,selected:!1}}))}break;case"colored-full":e.view="colored-full",e.hiddenNodes=[],e.clustersInfos.length&&e.clustersInfos.forEach((function(t){t.hiddenNodes.forEach((function(n){e.visualInfo[n]={color:t.color,x:0,y:0,selected:!1}}))}))}},applyColor:function(e,t){Object.keys(e.visualInfo).forEach((function(n){e.visualInfo[Number(n)].selected&&(e.visualInfo[Number(n)].color=t.payload,e.visualInfo[Number(n)].selected=!1)}))}}}),P=F.actions,A=P.process,_=P.hideNodes,D=P.foldAllDescendants,L=P.unhideNodes,M=P.setVisualInfo,U=P.selectNodes,H=P.unselectNodes,Q=P.changeStyle,B=P.applyView,W=P.applyColor,G=function(e){var t=e.proof.proof,n=e.proof.hiddenNodes;return n.forEach((function(e){var n={},r=function(e,t){return t.reduce((function(t,n){return t.concat(e[n].children)}),[]).filter((function(e){return-1===t.indexOf(e)}))}(t,e),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.reduce((function(r,s){var i=!1;return e[s].parents.forEach((function(e){-1!==t.indexOf(e)?i=!0:n[e]?n[e].push(s):n[e]=[s]})),i?r:r.concat(e[s].parents)}),[]).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(e){return-1===t.indexOf(e)}));return Object.keys(n).forEach((function(e){var t=Number(e);-1!==r.indexOf(t)&&delete n[t]})),r}(t,e,n),o=function(e,t){var n=[],r={};return e.forEach((function(e){-1!==t.indexOf(e.id)&&e.dependencies.length&&e.dependencies.forEach((function(e){-1===Object.keys(r).indexOf(String(e.piId))?(n.push(e),r[e.piId]=n.length-1):n[r[e.piId]].depsId=n[r[e.piId]].depsId.concat(e.depsId)}))})),n}(t,e),a=t.length,c=(t=t.concat({id:a,conclusion:"\u2234",rule:"\u03c0",args:"",children:r,parents:s,hiddenNodes:e.map((function(e){return t[e]})),descendants:1,dependencies:o,clusterType:i.NONE}))[a];r.forEach((function(n){return t[n]=Object(b.a)(Object(b.a)({},t[n]),{},{parents:t[n].parents.concat([a]).filter((function(t){return-1===e.indexOf(t)}))})})),s.forEach((function(n){return t[n]=Object(b.a)(Object(b.a)({},t[n]),{},{children:t[n].children.concat([a]).filter((function(t){return-1===e.indexOf(t)}))})})),Object.keys(n).forEach((function(e){var r=Number(e);t[r]=Object(b.a)(Object(b.a)({},t[r]),{},{children:t[r].children.filter((function(e){return-1===n[r].indexOf(e)})),dependencies:[].concat(Object(j.a)(t[r].dependencies),[{piId:a,depsId:n[r]}])})}));var l=null===e||void 0===e?void 0:e.filter((function(e){return t[e].parents.every((function(e){return-1!==c.parents.indexOf(e)}))})),d=l.map((function(e){return" "+t[e].conclusion}));c.conclusion=d.length>1?"[".concat(d," ]"):"".concat(d);var u=l.map((function(e){return" "+t[e].rule}));c.rule=u.length>1?"[".concat(u," ]"):"".concat(u," "),c.descendants=c.children.reduce((function(e,n){return e+=t[n].descendants}),1)})),t=t.filter((function(e){return n.every((function(t){return-1===t.indexOf(e.id)}))}))},V=function(e){return e.proof.proof},z=function(e){return e.proof.view},Y=function(e){return e.proof.style},q=function(e){return e.proof.letMap},X=function(e){return e.proof.theoryLemmaMap},J=function(e){return e.proof.proof.length?e.proof.visualInfo:{0:{color:"#555",x:0,y:0,selected:!1}}},K=function(e){return e.proof.hiddenNodes},$=function(e){return e.proof.clustersInfos},Z=F.reducer,ee=n(65),te=n(512),ne=Object(x.b)({name:"theme",initialState:{value:!0},reducers:{toggle:function(e){e.value=!e.value}}}),re=ne.actions.toggle,se=function(e){return e.theme.value},ie=ne.reducer,oe=(n(256),Object(x.b)({name:"externalCmd",initialState:{findData:{nodeToFind:-1,findOption:!1},renderData:{count:0,fileChanged:!1}},reducers:{findNode:function(e,t){e.findData={nodeToFind:t.payload.nodeId,findOption:t.payload.option}},reRender:function(e){e.renderData.count=0},addRenderCount:function(e){e.renderData.count++},blockRender:function(e){e.renderData.count=2},allowRenderNewFile:function(e){e.renderData.fileChanged=!0},blockRenderNewFile:function(e){e.renderData.fileChanged=!1}}})),ae=oe.actions,ce=ae.findNode,le=ae.reRender,de=ae.addRenderCount,ue=ae.blockRender,he=ae.allowRenderNewFile,fe=ae.blockRenderNewFile,be=function(e){return e.externalCmd.findData},pe=function(e){return e.externalCmd.renderData},je=oe.reducer,Oe={ex1:{dot:'unsat\r\ndigraph proof {\r\n\trankdir="BT";\r\n\tnode [shape=record];\r\n\tcomment="{\\"letMap\\" : {\\"let1\\" : \\"(f b)\\", \\"let2\\" : \\"(= (f a) let1)\\", \\"let3\\" : \\"(not let2)\\", \\"let4\\" : \\"(or p let3)\\", \\"let5\\" : \\"(not p)\\", \\"let6\\" : \\"(= a b)\\", \\"let7\\" : \\"(= let1 let1)\\", \\"let8\\" : \\"(not let7)\\", \\"let9\\" : \\"(not true)\\", \\"let10\\" : \\"(= p false)\\"}}";\r\n\t0 [ label = "{(not (and let6 let5 let4))|SCOPE :args [ let6, let5, let4 ]}", comment = "{\\"subProofQty\\":21}" ];\r\n\t1 [ label = "{false|EQ_RESOLVE}", comment = "{\\"subProofQty\\":20}" ];\r\n\t2 [ label = "{let3|CHAIN_RESOLUTION :args [ true, p ]}", comment = "{\\"subProofQty\\":3}" ];\r\n\t3 [ label = "{let4|ASSUME}", comment = "{\\"subProofQty\\":1}" ];\r\n\t3 -> 2;\r\n\t4 [ label = "{let5|ASSUME}", comment = "{\\"subProofQty\\":1}" ];\r\n\t4 -> 2;\r\n\t2 -> 1;\r\n\t5 [ label = "{(= let3 false)|TRANS}", comment = "{\\"subProofQty\\":16}" ];\r\n\t6 [ label = "{(= let3 let8)|CONG :args [ not ]}", comment = "{\\"subProofQty\\":11}" ];\r\n\t7 [ label = "{(= let2 let7)|CONG :args [ = ]}", comment = "{\\"subProofQty\\":10}" ];\r\n\t8 [ label = "{let2|CONG :args [ f ]}", comment = "{\\"subProofQty\\":8}" ];\r\n\t9 [ label = "{let6|AND_ELIM :args [ 1 ]}", comment = "{\\"subProofQty\\":7}" ];\r\n\t10 [ label = "{(and let10 let6)|AND_INTRO}", comment = "{\\"subProofQty\\":6}" ];\r\n\t11 [ label = "{let10|EQ_RESOLVE}", comment = "{\\"subProofQty\\":4}" ];\r\n\t4 -> 11;\r\n\t12 [ label = "{(= let5 let10)|SYMM}", comment = "{\\"subProofQty\\":2}" ];\r\n\t13 [ label = "{(= let10 let5)|THEORY_REWRITE :args [ BOOL ]}", comment = "{\\"subProofQty\\":1}" ];\r\n\t13 -> 12;\r\n\t12 -> 11;\r\n\t11 -> 10;\r\n\t14 [ label = "{let6|ASSUME}", comment = "{\\"subProofQty\\":1}" ];\r\n\t14 -> 10;\r\n\t10 -> 9;\r\n\t9 -> 8;\r\n\t8 -> 7;\r\n\t15 [ label = "{let7|REFL}", comment = "{\\"subProofQty\\":1}" ];\r\n\t15 -> 7;\r\n\t7 -> 6;\r\n\t6 -> 5;\r\n\t16 [ label = "{(= let8 false)|TRANS}", comment = "{\\"subProofQty\\":4}" ];\r\n\t17 [ label = "{(= let8 let9)|CONG :args [ not ]}", comment = "{\\"subProofQty\\":2}" ];\r\n\t18 [ label = "{(= let7 true)|THEORY_REWRITE :args [ UF ]}", comment = "{\\"subProofQty\\":1}" ];\r\n\t18 -> 17;\r\n\t17 -> 16;\r\n\t19 [ label = "{(= let9 false)|THEORY_REWRITE :args [ BOOL ]}", comment = "{\\"subProofQty\\":1}" ];\r\n\t19 -> 16;\r\n\t16 -> 5;\r\n\t5 -> 1;\r\n\t1 -> 0;\r\n\r\n}\r\n',smt:'(set-logic QF_UF)\n(set-info :category "crafted")\n(set-info :status unsat)\n(declare-sort U 0)\n(declare-fun a () U)\n(declare-fun b () U)\n(declare-fun f (U) U)\n(declare-fun p () Bool)\n(assert (= a b))\n(assert (not p))\n(assert (or p (not (= (f a) (f b)))))\n(check-sat)\n(exit)'},ex2:{dot:'unsat\r\ndigraph proof {\r\n\trankdir="BT";\r\n\tnode [shape=record];\r\n\tcomment="{\\"letMap\\" : {\\"let1\\" : \\"(= (f a) (f b))\\", \\"let2\\" : \\"(not let1)\\", \\"let3\\" : \\"(or (not p3) let2)\\", \\"let4\\" : \\"(and p2 p3)\\", \\"let5\\" : \\"(or (not p1) let4)\\", \\"let6\\" : \\"(and p1 true)\\", \\"let7\\" : \\"(= a b)\\", \\"let8\\" : \\"(not let4)\\", \\"let9\\" : \\"(not let7)\\"}}";\r\n\t0 [ label = "{(not (and let7 let6 let5 let3))|SCOPE :args [ let7, let6, let5, let3 ]}", comment = "{\\"subProofQty\\":20}" ];\r\n\t1 [ label = "{false|CHAIN_RESOLUTION :args [ true, let1, false, let7 ]}", comment = "{\\"subProofQty\\":19}" ];\r\n\t2 [ label = "{(or let1 let9)|REORDERING}", comment = "{\\"subProofQty\\":7}" ];\r\n\t3 [ label = "{(or let9 let1)|IMPLIES_ELIM}", comment = "{\\"subProofQty\\":6}" ];\r\n\t4 [ label = "{(=\\> let7 let1)|SCOPE :args [ let7 ]}", comment = "{\\"subProofQty\\":5}" ];\r\n\t5 [ label = "{let1|CONG :args [ f ]}", comment = "{\\"subProofQty\\":4}" ];\r\n\t6 [ label = "{let7|SYMM}", comment = "{\\"subProofQty\\":3}" ];\r\n\t7 [ label = "{(= b a)|SYMM}", comment = "{\\"subProofQty\\":2}" ];\r\n\t8 [ label = "{let7|ASSUME}", comment = "{\\"subProofQty\\":1}" ];\r\n\t8 -> 7;\r\n\t7 -> 6;\r\n\t6 -> 5;\r\n\t5 -> 4;\r\n\t4 -> 3;\r\n\t3 -> 2;\r\n\t2 -> 1;\r\n\t9 [ label = "{let2|CHAIN_RESOLUTION :args [ false, p3 ]}", comment = "{\\"subProofQty\\":10}" ];\r\n\t10 [ label = "{let3|ASSUME}", comment = "{\\"subProofQty\\":1}" ];\r\n\t10 -> 9;\r\n\t11 [ label = "{p3|CHAIN_RESOLUTION :args [ false, let4 ]}", comment = "{\\"subProofQty\\":8}" ];\r\n\t12 [ label = "{(or p3 let8)|REORDERING}", comment = "{\\"subProofQty\\":2}" ];\r\n\t13 [ label = "{(or let8 p3)|CNF_AND_POS :args [ let4, 1 ]}", comment = "{\\"subProofQty\\":1}" ];\r\n\t13 -> 12;\r\n\t12 -> 11;\r\n\t14 [ label = "{let4|CHAIN_RESOLUTION :args [ false, p1 ]}", comment = "{\\"subProofQty\\":5}" ];\r\n\t15 [ label = "{let5|ASSUME}", comment = "{\\"subProofQty\\":1}" ];\r\n\t15 -> 14;\r\n\t16 [ label = "{p1|EQ_RESOLVE}", comment = "{\\"subProofQty\\":3}" ];\r\n\t17 [ label = "{let6|ASSUME}", comment = "{\\"subProofQty\\":1}" ];\r\n\t17 -> 16;\r\n\t18 [ label = "{(= let6 p1)|THEORY_REWRITE :args [ BOOL ]}", comment = "{\\"subProofQty\\":1}" ];\r\n\t18 -> 16;\r\n\t16 -> 14;\r\n\t14 -> 11;\r\n\t11 -> 9;\r\n\t9 -> 1;\r\n\t19 [ label = "{let7|ASSUME}", comment = "{\\"subProofQty\\":1}" ];\r\n\t19 -> 1;\r\n\t1 -> 0;\r\n\r\n\tsubgraph cluster_SAT {\r\n\t\tlabel="SAT"\r\n\t\tbgcolor="purple"\r\n\t\t1 2 9 11 12 14 \r\n\t};\r\n\tsubgraph cluster_CNF {\r\n\t\tlabel="CNF"\r\n\t\tbgcolor="yellow"\r\n\t\t3 13 \r\n\t};\r\n\tsubgraph cluster_TL {\r\n\t\tlabel="TL"\r\n\t\tbgcolor="green"\r\n\t\t4 5 6 7 8 \r\n\t};\r\n\tsubgraph cluster_PP {\r\n\t\tlabel="PP"\r\n\t\tbgcolor="brown"\r\n\t\t16 18 \r\n\t};\r\n\tsubgraph cluster_IN {\r\n\t\tlabel="IN"\r\n\t\tbgcolor="blue"\r\n\t\t10 15 17 19 \r\n\t};\r\n}\r\n',smt:"(set-logic QF_UF)\n\n(declare-sort U 0)\n\n(declare-const p1 Bool)\n(declare-const p2 Bool)\n(declare-const p3 Bool)\n\n(declare-const a U)\n(declare-const b U)\n(declare-fun f (U) U)\n\n(assert (= a b))\n(assert (and p1 true))\n(assert (or (not p1) (and p2 p3)))\n(assert (or (not p3) (not (= (f a) (f b)))))\n\n(check-sat)"}},me=n(1);var ge={hideNodes:_},xe=Object(O.b)((function(e,t){return Object(b.a)(Object(b.a)({},t),{},{proof:G(e),dot:w(e),view:z(e),visualInfo:J(e),hiddenNodes:K(e)})}),ge)((function(e){var t,n=e.setDialogIsOpen,r=e.setDrawerIsOpen,s=e.addErrorToast,i=e.setInTutorial,a=e.inTutorial,c=e.visualInfo,l=e.proof,u=e.dot,f=e.view,b=e.hiddenNodes,O=e.hideNodes,x=g(N),v=g(se),w=function(){var e=Object(o.useState)({width:0,height:0}),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),E=Object(o.useState)(""),C=Object(d.a)(E,2),S=C[0],I=C[1],k=Object(o.useState)([""]),R=Object(d.a)(k,2),T=R[0],F=R[1],P=Object(o.useState)(0),_=Object(d.a)(P,2),M=_[0],G=_[1],V=Object(o.useState)([]),z=Object(d.a)(V,2),Y=z[0],q=z[1],X=Object(o.useState)(!1),J=Object(d.a)(X,2),K=J[0],$=J[1],Z=m(),ne=(t={},Object(p.a)(t,"/view",(function(e){switch(e[1]){case"full":Z(B("full")),Z(le());break;case"clustered":Z(B("clustered")),Z(le());break;case"colored-full":Z(B("colored-full")),Z(le())}})),Object(p.a)(t,"/select",(function(e){if(e[1]){var t="";e.forEach((function(e,n){return 0!==n&&(t+=e+" ")}));var n=Object(j.a)(t.matchAll(/\[([^\[\]]+)\]/g)),r=[];if(n[0]){var i=n[0][1].trim(),o=Object(j.a)(i.matchAll(/\s*\d+\s*-\s*\d+\s*/g));if(o[0]){var a=o[0][0].split(/\s*-\s*/).map((function(e){return Number(e)}));r=Array.from({length:a[1]-a[0]+1},(function(e,t){return a[0]+t}))}else if((o=Object(j.a)(i.matchAll(/(\s*\d+\s*,*)+/g)))[0]){var c="";o.forEach((function(e){return c+=e[0]})),r=c.split(/,\s*/).filter((function(e){return e.length>0&&!isNaN(Number(e))})).map((function(e){return Number(e)}))}}else{var d=Object(j.a)(t.matchAll(/\/[^\/]*\//g)),u=Object(j.a)(t.matchAll(/--(c|r)/g));if(d[0]){var h=!0;if(u[0])switch(u[0][1]){case"r":h=!1;break;case"c":h=!0}var f=d[0][0].substring(1,d[0][0].length-1);try{var b=new RegExp(f);r=l.filter((function(e){return b.test(h?e.conclusion:e.rule)})).map((function(e){return e.id}))}catch(p){s("Regex error: probably and wrong regex expression")}}}Z(U(r))}})),Object(p.a)(t,"/unselect",(function(e){var t=l.map((function(e){return e.id}));Z(H(t))})),Object(p.a)(t,"/color",(function(e){if(e[1]){if(RegExp(/^#([0-9a-f]{3}){1,2}$/i).test(e[1]))return void Z(W(e[1]));switch(e[1]){case"red":Z(W("#f72b34"));break;case"orange":Z(W("#ff8334"));break;case"yellow":Z(W("#ffc149"));break;case"green":Z(W("#60aa51"));break;case"blue":Z(W("#0097e4"));break;case"purple":Z(W("#a73da5"));break;case"brown":Z(W("#a95a49"));break;case"gray":Z(W("#464646"));break;case"white":Z(W("#f0f0f0"))}}})),Object(p.a)(t,"/hide",(function(e){var t=Object.keys(c).map((function(e){return Number(e)})).filter((function(e){return c[e].selected}));t.length>1&&(Z(le()),Z(O(t)))})),Object(p.a)(t,"/fold",(function(e){if(e[1]&&!isNaN(Number(e[1]))){var t=Number(e[1]);-1!==l.findIndex((function(e){return e.id===t}))&&(Z(le()),Z(D(t)))}})),Object(p.a)(t,"/unfold",(function(e){var t;if(e[1]&&!isNaN(Number(e[1]))){var n,r=Number(e[1]),s=l.find((function(e){return e.id===r}));if(s&&(null===(n=s.hiddenNodes)||void 0===n?void 0:n.length)){var i=s.hiddenNodes?s.hiddenNodes:[];t=i?i.map((function(e){return e.id})):[],Z(le()),Z(L({pi:r,hiddens:t}))}}})),Object(p.a)(t,"/find",(function(e){e[1]&&!isNaN(Number(e[1]))&&Z(ce({nodeId:Number(e[1]),option:"--s"===e[2]}))})),t),ie=Object(o.useRef)(Object.keys(ne)).current,oe=function(e){var t=e.trim().split(/ +/);t[0]&&ne[t[0]]&&ne[t[0]](t)},ae={style:Object(me.jsxs)(h.j,{children:[Object(me.jsx)(h.k,{icon:"diagram-tree",text:"Graph",onClick:function(e){e.preventDefault(),Z(Q("graph"))}}),Object(me.jsx)(h.k,{icon:"folder-open",text:"Directory",onClick:function(e){e.preventDefault(),Z(Q("directory"))}})]}),download:Object(me.jsxs)(h.j,{children:[Object(me.jsx)(h.k,{icon:"layout",text:"JSON",onClick:function(){var e={dot:u,visualInfo:c,hiddenNodes:b,view:f},t=x.split(".");t.splice(t.length-1,1);var n=document.createElement("a");n.download=t+".json",n.href="data:attachment/text,".concat(encodeURIComponent(JSON.stringify(e))),n.click()}}),Object(me.jsx)(h.k,{icon:"graph",text:"DOT",href:"data:attachment/text,".concat(encodeURIComponent(u||"")),download:x?"".concat(x.replaceAll(" ","_"),".dot"):""}),Object(me.jsx)(h.k,{icon:"square",text:"PNG",onClick:function(e){e.preventDefault();var t=document.createElement("a");t.download=x?"".concat(x.replaceAll(" ","_"),".png"):"",t.href=document.getElementsByClassName("konvajs-content")[0].children[0].toDataURL("image/png"),t.click()}})]}),help:Object(me.jsxs)(h.j,{children:[Object(me.jsx)(h.k,{text:"/view",children:Object(me.jsxs)("div",{className:"cmd-desc",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Desc.:"})," Command that changes the view mode."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Pattern:"})," /view ","<option>","."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Option:"})," full, clustered and colored-full."]})]})}),Object(me.jsx)(h.k,{text:"/select",children:Object(me.jsxs)("div",{className:"cmd-desc",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Desc.:"})," Command that select a group of nodes."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Pattern:"})," /select ","<option>"," ","<argument>","."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Options:"}),Object(me.jsxs)("div",{className:"option",children:["1 - A list of node ","id's"," wrapped by brackets and separated by commas (and spaces if wanted) (eg.: [1, 15, 6,3])."]}),Object(me.jsxs)("div",{className:"option",children:["2 - A range of node ","id's"," wrapped by brackets and separated by hyphen (and spaces if wanted) (eg.: [ 4 -15]). This range will include the last element."]}),Object(me.jsxs)("div",{className:"option",children:["3 - A regex expression used to select all the nodes which the conclusion owns a match (eg.: /\\.*false\\.*/ ","->"," selects all the nodes with false anywhere in the conclusion).",Object(me.jsx)("br",{}),Object(me.jsx)("br",{}),"If wanted to search a match in the rule just insert the --r argument. The --c argument exists but the /select will by default search in the conclusion."]})]})]})}),Object(me.jsx)(h.k,{text:"/unselect",children:Object(me.jsxs)("div",{className:"cmd-desc",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Desc.:"})," Command that unselect all the nodes."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Pattern:"})," /unselect."]})]})}),Object(me.jsx)(h.k,{text:"/color",children:Object(me.jsxs)("div",{className:"cmd-desc",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Desc.:"})," Command that changes the color of the current selected nodes."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Pattern:"})," /color ","<option>","."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Options:"}),Object(me.jsx)("div",{className:"option",children:"1 - A valid hex color notation (eg.: #A7B)."}),Object(me.jsx)("div",{className:"option",children:"2 - A color name between: red, orange, yellow, green, blue, purple, brown, gray, white."})]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Prerequisites:"})," a group of nodes being selected."]})]})}),Object(me.jsx)(h.k,{text:"/hide",children:Object(me.jsxs)("div",{className:"cmd-desc",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Desc.:"})," Command that try to fold (hide) a group of selected nodes."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Pattern:"})," /hide."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Prerequisites:"})," a group of nodes being selected."]})]})}),Object(me.jsx)(h.k,{text:"/fold",children:Object(me.jsxs)("div",{className:"cmd-desc",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Desc.:"})," Command that fold all descendants of a specific node."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Pattern:"})," /fold ","<option>","."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Option:"})," a valid node id."]})]})}),Object(me.jsx)(h.k,{text:"/unfold",children:Object(me.jsxs)("div",{className:"cmd-desc",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Desc.:"})," Command that unfold a specific pi node."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Pattern:"})," /unfold ","<option>","."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Option:"})," a valid pi node id."]})]})}),Object(me.jsx)(h.k,{text:"/find",children:Object(me.jsxs)("div",{className:"cmd-desc",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Desc.:"})," Command that find a node and centralize the canvas at it."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Pattern:"})," /find ","<node number>"," ","<option>","."]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("u",{className:"title",children:"Option:"})," --s: find and select the node."]})]})})]}),examples:Object(me.jsx)(h.j,{children:Object.keys(Oe).map((function(e,t){return Object(me.jsx)(h.k,{text:"Example ".concat(t+1),onClick:function(n){var r=Oe[e].dot;n.preventDefault(),Z(y({name:"ex-".concat(t+1),value:r})),Z(he()),Z(le()),Z(A(r))}},t)}))})},de=1250;return Object(me.jsxs)(h.l,{children:[Object(me.jsxs)(h.l.Group,{align:ee.a.LEFT,children:[Object(me.jsx)(h.l.Heading,{children:Object(me.jsx)("b",{id:"proof-visualizer-name",children:w.width>=de?"Proof Visualizer":"PV"})}),Object(me.jsx)(h.l.Divider,{}),Object(me.jsx)(h.a,{onClick:function(e){e.preventDefault(),n(!0)},id:"upload-proof-bt",className:"bp3-minimal",icon:"upload",text:w.width>=de?"Upload Proof":""}),Object(me.jsx)(te.a,{content:x?ae.examples:void 0,placement:"bottom-end",children:Object(me.jsx)(h.a,{id:"examples-bt",className:"bp3-minimal",icon:"manual",text:w.width>=de?"Examples":""})})]}),Object(me.jsxs)(h.l.Group,{align:ee.a.RIGHT,children:[x?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(h.l.Heading,{id:"file-name-title",children:x}),Object(me.jsx)(h.l.Divider,{}),Object(me.jsx)(te.a,{autoFocus:!1,enforceFocus:!1,content:function(){if(Y.length){var e=[];return Y.forEach((function(t){return e.push(Object(me.jsx)(h.k,{text:t}))})),Object(me.jsx)(h.j,{className:"matchable-menu",children:e})}return Object(me.jsx)(me.Fragment,{})}(),isOpen:K,disabled:0===Y.length,placement:"bottom-end",children:Object(me.jsx)(h.i,{id:"command",placeholder:"/command",value:S,onChange:function(e){G(0),T[0]=e.target.value,F(T),I(e.target.value),function(e){e.target.value.length?(q(ie.filter((function(t){return-1!==t.indexOf(e.target.value)}))),$(!0)):(q([]),$(!1))}(e)},onKeyDown:function(e){switch(e.key){case"Enter":""!==S.trim()&&(oe(S),5===T.length&&T.pop(),T.unshift(""),F(T),I("")),q([]);break;case"ArrowUp":if(M<T.length-1){var t=M+1;G(t),I(T[t]),q([]),$(!1)}break;case"ArrowDown":if(M>0){var n=M-1;G(n),I(T[n]),q([]),$(!1)}}},rightElement:Object(me.jsx)(te.a,{content:ae.help,placement:"bottom-end",children:Object(me.jsx)(h.a,{icon:"help",className:"bp3-minimal"})}),autoComplete:"off"})}),Object(me.jsx)(h.a,{style:{marginLeft:"5px"},icon:"play",onClick:function(){oe(S),T.pop(),T.unshift(S),T[0]="",F(T),I("")}}),Object(me.jsx)(h.l.Divider,{}),Object(me.jsx)(te.a,{content:x?ae.style:void 0,placement:"bottom-end",disabled:!x,children:Object(me.jsx)(h.a,{id:"style-bt",icon:"presentation",className:"bp3-minimal",text:w.width>=de?"Style":"",disabled:!x})}),Object(me.jsx)(h.a,{id:"visualizers-bt",className:"bp3-minimal",icon:"applications",text:w.width>=de?"Visualizers":"",disabled:!x,onClick:function(){return r(!0)}}),Object(me.jsx)(te.a,{content:x?ae.download:void 0,placement:"bottom-end",disabled:!x,children:Object(me.jsx)(h.a,{id:"download-bt",className:"bp3-minimal",icon:"download",text:w.width>=de?"Download":"",disabled:!x})}),Object(me.jsx)(h.a,{className:"bp3-minimal",icon:"learning",text:w.width>=de?"Tutorial":"",disabled:!x,onClick:function(e){e.stopPropagation(),e.currentTarget.blur(),i(!a)}}),Object(me.jsx)(h.l.Divider,{})]}):null,Object(me.jsxs)("span",{id:"switch-button-dark-theme",children:[Object(me.jsx)(h.q,{checked:g(se),onChange:function(){return Z(re())}}),Object(me.jsx)(h.h,{icon:v?"moon":"flash"})]})]})]})})),ve=n(123),ye=n.n(ve),Ne=n(206),we=n(3),Ee=(n(282),function(e){var t=new FileReader;return new Promise((function(n,r){t.onerror=function(){t.abort(),r(new DOMException("Problem parsing input file."))},t.onload=function(){n(t.result)},t.readAsText(e)}))}),Ce=function(e){var t=e.dialogIsOpen,n=e.setDialogIsOpen,r=e.addErrorToast,s=g(se),i=m(),a=Object(o.useState)("Choose file..."),c=Object(d.a)(a,2),l=c[0],f=c[1],p=Object(o.useState)(""),j=Object(d.a)(p,2),O=j[0],x=j[1],v=Object(o.useReducer)((function(e,t){return[t,e[1]+1]}),[0,0]),N=Object(d.a)(v,2),w=Object(d.a)(N[0],2),E=w[0],C=w[1],S=N[1];Object(o.useEffect)((function(){t&&S(1)}),[t]),Object(o.useEffect)((function(){switch(E){case 1:document.getElementsByClassName(we.a.DIALOG_BODY+" dialog-body")[0].childNodes[0].focus();break;case 2:document.getElementsByClassName(we.a.DIALOG_FOOTER_ACTIONS)[0].childNodes[0].focus()}}),[C]);var I=function(){n(!1),f("Choose file..."),x("")},k=Object(me.jsx)(h.g,{text:l,hasSelection:"Choose file..."!==l,onInputChange:function(){var e=Object(Ne.a)(ye.a.mark((function e(t){var n,s,i;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,s=n.files?n.files[0]:new File([""],"filename"),!n.files||!n.files[0]||"dot"===n.files[0].name.split(".").slice(-1)[0]||"json"===n.files[0].name.split(".").slice(-1)[0]){e.next=5;break}return r("Sorry! Our app only support DOT and JSON files."),e.abrupt("return");case 5:if(e.prev=5,!s){e.next=13;break}return e.next=9,Ee(s);case 9:i=e.sent,x(i),f(s.name),S(2);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),fill:!0}),R=Object(me.jsx)(h.a,{onClick:function(){i(y({name:l,value:O})),i(he());var e=l.split(".").pop();"json"===e?i(ue()):"dot"===e&&i(le()),i(A(O)),I()},intent:u.a.SUCCESS,disabled:"Choose file..."===l,children:"Upload Proof"});return Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)(h.d,Object(b.a)(Object(b.a)({className:s?" bp3-dark":"",isOpen:t,onClose:function(){return I()},usePortal:!0},{icon:"upload",title:"Upload Proof"}),{},{children:[Object(me.jsx)("div",{className:we.a.DIALOG_BODY+" dialog-body",children:k}),Object(me.jsx)("div",{className:we.a.DIALOG_FOOTER,children:Object(me.jsx)("div",{className:we.a.DIALOG_FOOTER_ACTIONS,children:R})})]}))})},Se=n(94),Ie=n(207),ke=n(68),Re=n(211),Te=n(210),Fe=n(19),Pe=n(124),Ae=n.n(Pe);function _e(e){return.299*parseInt(e.substring(0,2),16)+.587*parseInt(e.substring(2,4),16)+.114*parseInt(e.substring(4,6),16)>150?"#000000":"#ffffff"}function De(e){if("#"===e.charAt(0)){if(4==e.length)return e.substring(1,7).split("").map((function(e){return e+e})).join("");if(7==e.length)return e.substring(1,7)}else{if(3==e.length)return e.split("").map((function(e){return e+e})).join("");if(6==e.length)return e}return"000000"}var Le=function(e){var t=e.id,n=e.conclusion,r=e.rule,s=e.args,i=e.x,a=e.y,c=e.nHided,l=e.nDescendants,u=e.hiddenNodes,h=e.dependencies,f=e.selected,p=e.color,j=e.setNodeOnFocus,O=e.toggleNodeSelection,m=e.updateNodePosition,g=e.openDrawer,x=e.onDragEnd,v=e.createTree,y={tag:{fill:p,stroke:f?"red":"black",strokeWidth:f?3:1},get dep(){return Object(b.a)({},this.tag)},text:{align:"center",fill:_e(De(p)),fontSize:15,height:35,padding:10,width:300},get depText(){return Object(b.a)(Object(b.a)({},this.text),{},{padding:0,width:50})}},N={nHided:c?"#hidden: ".concat(c):"",nDescendants:" #descendants: ".concat(l),rule:c?"\u03c0":r,dependencies:1===h.length?String(h[0].piId):"\u03c0"},w=Object(o.useState)(50),E=Object(d.a)(w,2),C=E[0],S=E[1],I=Object(o.useState)(y.text.width-50),k=Object(d.a)(I,2),R=k[0],T=k[1];return Object(o.useEffect)((function(){var e="".concat(y.text.fontSize,'px -apple-system, "BlinkMacSystemFont", "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Open Sans", "Helvetica Neue", "Icons16", sans-serif'),n=function(e,t){var n=document.createElement("canvas").getContext("2d"),r=0;return n&&(n.font=t,r=n.measureText(e).width),r}(t.toString(),e)+3*y.text.padding;S(n),T(y.text.width-n)}),[]),Object(me.jsxs)(Fe.c,{draggable:!0,id:t.toString(),onDragMove:function(e){m(t,e.target.attrs.x,e.target.attrs.y)},onDragEnd:x,x:i,y:a,onClick:function(e){if(0===e.evt.button)e.evt.shiftKey?O(t):g({rule:r,args:s,conclusion:n,nHided:c,nDescendants:l-0,hiddenNodes:u,dependencies:h},v(t));else if(2===e.evt.button){j(t);var i=document.getElementById("menu");i&&(i.style.top="".concat(e.evt.clientY,"px"),i.style.left="".concat(e.evt.clientX,"px"),i.style.display="initial",window.addEventListener("click",(function(){i.style.display="none"})))}},children:[Object(me.jsxs)(Fe.d,{x:0,y:0,children:[Object(me.jsx)(Fe.g,Object(b.a)({},y.tag)),Object(me.jsx)(Fe.h,Object(b.a)(Object(b.a)({},y.text),{},{text:n}))]}),Object(me.jsxs)(Fe.d,{x:0,y:35,children:[Object(me.jsx)(Fe.g,Object(b.a)({},y.tag)),Object(me.jsx)(Fe.h,Object(b.a)(Object(b.a)({},y.text),{},{text:N.rule}))]}),Object(me.jsxs)(Fe.d,{x:0,y:70,align:"right",children:[Object(me.jsx)(Fe.g,Object(b.a)({},y.tag)),Object(me.jsx)(Fe.h,Object(b.a)(Object(b.a)({},Object(b.a)(Object(b.a)({},y.text),{},{width:C})),{},{text:t.toString()}))]}),Object(me.jsxs)(Fe.d,{x:C,y:70,children:[Object(me.jsx)(Fe.g,Object(b.a)({},y.tag)),Object(me.jsx)(Fe.h,Object(b.a)(Object(b.a)({},Object(b.a)(Object(b.a)({},y.text),{},{width:R})),{},{text:N.nHided+N.nDescendants}))]}),h.length?Object(me.jsxs)(Fe.d,{x:300,y:0,children:[Object(me.jsx)(Fe.a,{strokeWidth:1,stroke:"black",fill:"black",points:[25,53,0,53]}),Object(me.jsx)(Fe.b,Object(b.a)({x:50,y:53,radius:25},y.dep)),Object(me.jsx)(Fe.d,{x:25,y:45,children:Object(me.jsx)(Fe.h,Object(b.a)(Object(b.a)({},y.depText),{},{text:N.dependencies}))})]}):null]},t)},Me=function(e){var t=e.key,n=e.points;return Object(me.jsx)(Fe.a,{strokeWidth:1,stroke:"black",fill:"black",points:Object(j.a)(n)},t)},Ue=function(e){var t=e.unfold,n=e.foldSelectedNodes,r=e.foldAllDescendants,s=e.changeNodeColor,i=e.currentColor,a=e.options,c=Object(o.useState)(i),l=Object(d.a)(c,2),u=l[0],f=l[1];return Object(o.useEffect)((function(){f(i)}),[i]),Object(me.jsx)("div",{className:"bp3-popover2-content",children:Object(me.jsxs)("ul",{id:"menu",className:"bp3-menu",children:[a.unfold?Object(me.jsx)("li",{className:"",children:Object(me.jsx)("a",{className:"bp3-menu-item",onClick:function(){return t()},children:Object(me.jsx)("div",{className:"bp3-text-overflow-ellipsis bp3-fill bp3-icon-eye-open",children:Object(me.jsx)("span",{children:" Unfold"})})})}):null,a.foldSelected?Object(me.jsx)("li",{className:"",children:Object(me.jsx)("a",{className:"bp3-menu-item",onClick:function(){return n()},children:Object(me.jsx)("div",{className:"bp3-text-overflow-ellipsis bp3-fill bp3-icon-eye-off",children:Object(me.jsx)("span",{children:" Fold selected nodes"})})})}):null,a.foldAllDescendants?Object(me.jsx)("li",{className:"",children:Object(me.jsx)("a",{className:"bp3-menu-item",onClick:function(){return r()},children:Object(me.jsx)("div",{className:"bp3-text-overflow-ellipsis bp3-fill bp3-icon-eye-off",children:Object(me.jsx)("span",{children:" Fold all descendants"})})})}):null,Object(me.jsx)("li",{className:"",children:Object(me.jsx)("a",{className:"bp3-menu-item",children:Object(me.jsx)("div",{className:"bp3-text-overflow-ellipsis bp3-fill",children:Object(me.jsxs)("span",{children:[Object(me.jsx)("span",{onClick:function(){return s(T("red"))},children:" \ud83d\udfe5"}),Object(me.jsx)("span",{onClick:function(){return s(T("orange"))},children:" \ud83d\udfe7"}),Object(me.jsx)("span",{onClick:function(){return s(T("yellow"))},children:" \ud83d\udfe8"}),Object(me.jsx)("span",{onClick:function(){return s(T("green"))},children:" \ud83d\udfe9"}),Object(me.jsx)("span",{onClick:function(){return s(T("blue"))},children:" \ud83d\udfe6"}),Object(me.jsx)("span",{onClick:function(){return s(T("purple"))},children:" \ud83d\udfea"}),Object(me.jsx)("span",{onClick:function(){return s(T("brown"))},children:" \ud83d\udfeb"}),Object(me.jsx)("span",{onClick:function(){return s(T("black"))},children:" \u2b1b"}),Object(me.jsx)("span",{onClick:function(){return s(T("white"))},children:" \u2b1c"})]})})})}),Object(me.jsx)("li",{className:"",children:Object(me.jsx)("a",{className:"bp3-menu-item",children:Object(me.jsx)("div",{className:"bp3-text-overflow-ellipsis bp3-fill",children:Object(me.jsxs)(h.c,{onClick:function(e){e.stopPropagation()},fill:!0,vertical:!1,children:[Object(me.jsx)(h.i,{placeholder:i,value:u,onChange:function(e){return f(e.target.value)}}),Object(me.jsx)(h.a,{icon:"style",onClick:function(){s(u),f("")},disabled:null===u.match(/^#([0-9a-f]{3}){1,2}$/i)})]})})})})]})})};n(497);function He(e){e.evt.preventDefault();var t=e.target.getStage();if(t){var n,r,s=t.scaleX(),i=t.getPointerPosition();if(i){var o=[i.x,i.y];n=o[0],r=o[1]}else n=0,r=0;var a={x:n/s-t.x()/s,y:r/s-t.y()/s},c=e.evt.deltaY>0?1.08*s:s/1.08;return{stageScale:c,stageX:-(a.x-n/c)*c,stageY:-(a.y-r/c)*c}}return{stageScale:1,stageX:0,stageY:0}}var Qe=function(e){Object(Re.a)(n,e);var t=Object(Te.a)(n);function n(e){var r;return Object(Se.a)(this,n),(r=t.call(this,e)).foldAllDescendants=function(){var e=r.state.nodeOnFocus,t=r.props,n=t.foldAllDescendants;(0,t.reRender)(),n(e),r.setState({nodesSelected:[]})},r.foldSelectedNodes=function(){var e=r.state.nodesSelected,t=r.props,n=t.hideNodes;(0,t.reRender)(),n(e),r.setState({nodesSelected:[]})},r.unfold=function(){var e=r.state,t=e.nodeOnFocus,n=e.proof,s=r.props,i=s.unhideNodes,o=s.reRender,a=n.find((function(e){return e.id===t})),c=a&&a.hiddenNodes?a.hiddenNodes:[],l=c?c.map((function(e){return e.id})):[];o(),i({pi:t,hiddens:l}),r.setState({nodesSelected:[]})},r.changeNodeColor=function(e){var t=r.state,n=t.showingNodes,s=t.nodesSelected,i=t.nodeOnFocus,o=r.props.setVisualInfo,a=r.props.visualInfo;s.forEach((function(t){a=Object(b.a)(Object(b.a)({},a),{},Object(p.a)({},t,Object(b.a)(Object(b.a)({},a[t]),{},{color:e,selected:!1})))})),!s.length&&n[i]&&(a=Object(b.a)(Object(b.a)({},a),{},Object(p.a)({},i,Object(b.a)(Object(b.a)({},a[i]),{},{color:e,selected:!1})))),o(a),r.setState({nodesSelected:[]})},r.toggleNodeSelection=function(e){var t=r.state.nodesSelected,n=r.props,s=n.visualInfo,i=n.setVisualInfo;s[e].selected?t=t.filter((function(t){return t!==e})):t.push(e),i(Object(b.a)(Object(b.a)({},s),{},Object(p.a)({},e,Object(b.a)(Object(b.a)({},s[e]),{},{selected:!s[e].selected})))),r.setState({nodesSelected:t})},r.createTree=function(e){return r.props.createTree(r.state.proof,e)},r.setNodeOnFocus=function(e){r.setState({nodeOnFocus:e})},r.LineProps=function(e,t,n){return{key:e,points:[t.x+150,t.y,n.x+150,n.y+105]}},r.saveNodePosition=function(){var e=r.props,t=e.visualInfo,s=e.setVisualInfo,i=r.state.showingNodes;s(n.copyNodePosition(t,i))},r.updateNodePosition=function(e,t,n){var s=r.state,i=s.showingNodes,o=s.showingEdges;i[e]=Object(me.jsx)(Le,Object(b.a)({},Object(b.a)(Object(b.a)({},i[e].props),{},{x:t,y:n}))),Object.keys(o).filter((function(t){return-1!==t.indexOf(e.toString())})).forEach((function(e){var t=e.split("->").map((function(e){return parseInt(e)})),n=Object(d.a)(t,2),s=n[0],a=n[1];o[e]=Me(r.LineProps(e,i[s].props,i[a].props))})),r.setState({showingNodes:i,showingEdges:o})},r.componentDidUpdate=r.componentDidUpdate.bind(Object(ke.a)(r)),r.setNodeOnFocus=r.setNodeOnFocus.bind(Object(ke.a)(r)),r.state={canvasSize:{width:520,height:300},stage:{stageScale:1,stageX:0,stageY:0},showingNodes:{},showingEdges:{},nodeOnFocus:NaN,nodesSelected:[],proof:[],visualInfo:{}},r}return Object(Ie.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.showingNodes,t=this.props,r=t.proof,s=t.visualInfo,i={};if(r.forEach((function(e,t){i[e.id]=Object(me.jsx)(Le,Object(b.a)({},n.newNodeProps(e,s)),t)})),this.setState({proof:r,showingNodes:i}),e[0]){var o=[window.innerWidth,window.innerHeight-50],a=o[0],c=o[1];this.updateEdgesAndFuncs(),this.setState({canvasSize:{width:a,height:c},stage:{stageScale:1,stageX:a/2-(e[0].props.x+150),stageY:c/10-(e[0].props.y+15)}})}}},{key:"componentDidUpdate",value:function(e){e.proof!==this.props.proof&&this.updateEdgesAndFuncs()}},{key:"updateEdgesAndFuncs",value:function(){var e=this,t=this.state,n=t.showingNodes,r=t.showingEdges;this.props.proof.forEach((function(t){n[t.parents[0]]&&t.parents.forEach((function(s){r["".concat(t.id,"->").concat(s)]=Me(e.LineProps("".concat(t.id,"->").concat(s),n[t.id].props,n[s].props))}))})),Object.keys(n).forEach((function(t){if(!n[parseInt(t)].props.setNodeOnFocus.length){var r=e.props.openDrawer;n[parseInt(t)]=Object(me.jsx)(Le,Object(b.a)({},Object(b.a)(Object(b.a)({},n[parseInt(t)].props),{},{setNodeOnFocus:e.setNodeOnFocus,toggleNodeSelection:e.toggleNodeSelection,updateNodePosition:e.updateNodePosition,openDrawer:r,onDragEnd:e.saveNodePosition,createTree:e.createTree})))}})),this.setState({showingEdges:r,showingNodes:n})}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.canvasSize,s=n.stage,i=n.showingNodes,o=n.showingEdges,a=n.nodesSelected,c=n.nodeOnFocus,l=n.proof,d=i[c]?i[c].props.color:"",u=l.find((function(e){return e.id===c}));return Object(me.jsxs)("div",{children:[Object(me.jsx)(Ue,{unfold:this.unfold,foldSelectedNodes:this.foldSelectedNodes,foldAllDescendants:this.foldAllDescendants,changeNodeColor:this.changeNodeColor,options:{unfold:!!i[c]&&Boolean(i[c].props.nHided),foldSelected:!(!a.length||!a.includes(c)),foldAllDescendants:Boolean(null===u||void 0===u?void 0:u.children.length)&&!Boolean(null===u||void 0===u||null===(e=u.hiddenNodes)||void 0===e?void 0:e.length)&&0!=(null===u||void 0===u?void 0:u.id)},currentColor:d}),Object(me.jsx)(Fe.f,{draggable:!0,onDragMove:function(){return null},onDragEnd:function(){return null},width:r.width,height:r.height,onWheel:function(e){return t.setState({stage:He(e)})},scaleX:s.stageScale,scaleY:s.stageScale,x:s.stageX,y:s.stageY,onContextMenu:function(e){return e.evt.preventDefault()},children:Object(me.jsxs)(Fe.e,{children:[Object.keys(o).length>0&&Object.keys(o).map((function(e){return o[e]})),Object.keys(i).length>0&&Object.keys(i).map((function(e){return i[parseInt(e)]}))]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=JSON.stringify(t.proof)!==JSON.stringify(e.proof),s=JSON.stringify(t.visualInfo)!==JSON.stringify(e.visualInfo),i=e.nodeFindData,o=i.nodeToFind,a=i.findOption,c=e.renderData,l=c.count,d=c.fileChanged,u=t.stage;if(o>-1){if(o<=e.proof[e.proof.length-1].id){var h=e.visualInfo[o],f=h.x,j=h.y;u.stageX=t.canvasSize.width/2-(f+150)*u.stageScale,u.stageY=t.canvasSize.height/2-(j+65)*u.stageScale,a&&e.setVisualInfo(Object(b.a)(Object(b.a)({},e.visualInfo),{},Object(p.a)({},o,Object(b.a)(Object(b.a)({},e.visualInfo[o]),{},{selected:!0}))))}e.findNode({nodeId:-1,option:!1})}if(r||s||d){var O={};if(e.proof.forEach((function(t,r){O[t.id]=Object(me.jsx)(Le,Object(b.a)({},n.newNodeProps(t,e.visualInfo)),r)})),O[0]&&l<2){e.addRenderCount();var m=new Ae.a.graphlib.Graph;m.setGraph({rankdir:"BT",ranker:"tight-tree"}),m.setDefaultEdgeLabel((function(){return{}})),e.proof.forEach((function(e){m.setNode(e.id.toString(),{width:300+(e.dependencies.length?95:0),height:130}),e.children.forEach((function(t){m.setEdge(t.toString(),e.id.toString())}))})),Ae.a.layout(m);var g=m.node("0").x-(O[0].props.x?O[0].props.x:0),x=m.node("0").y-(O[0].props.y?O[0].props.y:0);m.nodes().forEach((function(e){try{var t=m.node(e),n=t.x,r=t.y,s=parseInt(e);O[s]=Object(me.jsx)(Le,Object(b.a)({},Object(b.a)(Object(b.a)({},O[s].props),{},{x:n-g,y:r-x})))}catch(i){console.log(i)}})),e.setVisualInfo(n.copyNodePosition(e.visualInfo,O))}return d&&e.blockRenderNewFile(),{showingNodes:O,showingEdges:{},proof:e.proof,visualInfo:e.visualInfo,stage:u}}return{stage:u}}}]),n}(o.Component);Qe.copyNodePosition=function(e,t){var n={};return Object.keys(e).forEach((function(r){var s=Number(r);t[s]?n[s]=Object(b.a)(Object(b.a)({},e[s]),{},{x:t[s].props.x,y:t[s].props.y}):n[s]=Object(b.a)({},e[s])})),n},Qe.newNodeProps=function(e,t){var n=t[e.id];return{id:e.id,conclusion:e.conclusion,rule:e.rule,args:e.args,x:n.x,y:n.y,nHided:e.hiddenNodes?e.hiddenNodes.length:0,nDescendants:e.descendants-1,hiddenNodes:e.hiddenNodes?e.hiddenNodes.map((function(e){return e.id})):[],dependencies:e.dependencies?e.dependencies:[],selected:n.selected,color:n.color,setNodeOnFocus:function(){},toggleNodeSelection:function(){},updateNodePosition:function(){},openDrawer:function(){},onDragEnd:function(){},createTree:function(){return[]}}};var Be={hideNodes:_,unhideNodes:L,foldAllDescendants:D,applyView:B,setVisualInfo:M,findNode:ce,reRender:le,addRenderCount:de,blockRenderNewFile:fe},We=Object(O.b)((function(e,t){return Object(b.a)({visualInfo:J(e),nodeFindData:be(e),renderData:pe(e)},t)}),Be)(Qe),Ge=n(209),Ve=function(e){var t=e.darkTheme,n=e.proof,r=e.positionMap,s=e.content,i=e.setNodeInfo,a=Object(o.useReducer)((function(e){return e+1}),0),c=Object(d.a)(a,2)[1],l=Object(o.useState)(s),u=Object(d.a)(l,2),f=u[0],b=u[1],p=Object(o.useState)(NaN),j=Object(d.a)(p,2),O=j[0],m=j[1];Object(o.useEffect)((function(){return b(s)}),[s]);var g=function e(t,n){if(null!=t){var r,s=Object(Ge.a)(t);try{for(s.s();!(r=s.n()).done;){var i=r.value;n(i),e(i.childNodes?i.childNodes:[],n)}}catch(o){s.e(o)}finally{s.f()}}};return Object(me.jsx)("div",{style:{backgroundColor:t?"#394b59":"white"},children:Object(me.jsx)(h.u,{contents:f,onNodeClick:function(e,t,n){var r=O!==e.id?e:f[0];i({rule:r.rule?r.rule:"",args:r.args?r.args:"",conclusion:r.conclusion?r.conclusion:"",nHided:r.nHided?r.nHided:0,nDescendants:r.descendants,hiddenNodes:r.hiddenNodes,dependencies:r.dependencies});var s=e.isSelected;n.shiftKey||g(f,(function(e){return e.isSelected=!1})),e.isSelected=null==s||!s,m(O===e.id?NaN:e.id)},onNodeCollapse:function(e){e.isExpanded=!1,c()},onNodeExpand:function(e){var t;(e.isExpanded=!0,e.hasCaret&&!(null===(t=e.childNodes)||void 0===t?void 0:t.length))&&n[r[e.id]].children.forEach((function(t){var s,i=n[r[t]];null===(s=e.childNodes)||void 0===s||s.push(Ke(i))}));c()},className:we.a.ELEVATION_0})})},ze=(n(498),function(e){var t=e.proofTree,n=e.ruleHelper,s=e.indent,i=e.translate,a=g(V),c=g(se),l=Object(o.useState)({rule:"",args:"",conclusion:"",nHided:0,nDescendants:0,hiddenNodes:[],dependencies:[]}),u=Object(d.a)(l,2),f=u[0],b=u[1],p=Object(o.useReducer)((function(e,t){var n=t.type,s=t.payload;if(n===r.ALL)for(var i=0;i<e.length;i++)e[i]=s;else if(s)for(var o=0;o<e.length;o++)e[o]=o===n&&s;else e[n]=s;return Object(j.a)(e)}),[!1,!1,!1]),O=Object(d.a)(p,2),m=Object(d.a)(O[0],3),x=m[0],v=m[1],y=m[2],N=O[1],w=Object(o.useState)({}),E=Object(d.a)(w,2),C=E[0],S=E[1];Object(o.useEffect)((function(){var e={};a.forEach((function(t,n){return e[t.id]=n})),S(e)}),[a]);return Object(me.jsxs)("div",{className:"dir-style",style:{backgroundColor:c?"rgb(57, 75, 89)":"white",height:window.innerHeight-document.getElementsByClassName("bp3-navbar")[0].offsetHeight},children:[Object(me.jsx)("div",{style:{width:"50%",height:"100%",float:"left",clear:"none",borderRight:"1px solid black",overflow:"auto"},children:Object(me.jsx)(Ve,{darkTheme:c,proof:a,positionMap:C,content:t,setNodeInfo:b})}),Object(me.jsx)("div",{style:{width:"50%",height:"100%",float:"left",clear:"none"},children:Object(me.jsxs)("table",{id:"table-node-info",className:"bp3-html-table bp3-html-table-bordered bp3-html-table-condensed bp3-html-table-striped",style:{width:"100%"},children:[Object(me.jsx)("thead",{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("th",{children:"Property"}),Object(me.jsx)("th",{children:"Value"})]})}),Object(me.jsxs)("tbody",{children:[Object(me.jsxs)("tr",{children:[Object(me.jsxs)("td",{children:[Object(me.jsx)("strong",{children:"RULE "}),Object(me.jsx)(h.h,{id:"icon",icon:"help",onClick:function(){N({type:r.RULE,payload:!x})}})]}),Object(me.jsxs)("td",{children:[f.rule,Object(me.jsx)(h.b,{isOpen:x,children:Object(me.jsx)(h.p,{style:{maxHeight:"300px",overflow:"auto"},id:"pre-rule",children:n(f.rule)})})]})]}),f.args&&Object(me.jsxs)("tr",{children:[Object(me.jsxs)("td",{children:[Object(me.jsx)("strong",{children:"ARGS"})," ",-1!==f.args.indexOf("let")?Object(me.jsx)(h.h,{id:"icon",icon:"translate",onClick:function(){N({type:r.ARGS,payload:!v})}}):null]}),Object(me.jsxs)("td",{style:{maxHeight:"300px",overflow:"auto"},children:[f.args,-1!==f.args.indexOf("let")?Object(me.jsx)(h.b,{isOpen:v,children:Object(me.jsx)(h.p,{style:{maxHeight:"300px",overflow:"auto"},id:"pre-rule",children:s(i(f.args))})}):null]})]}),Object(me.jsxs)("tr",{children:[Object(me.jsxs)("td",{style:{maxHeight:"300px",overflow:"auto"},children:[Object(me.jsx)("strong",{children:"CONCLUSION"})," ",-1!==f.conclusion.indexOf("let")?Object(me.jsx)(h.h,{id:"icon",icon:"translate",onClick:function(){N({type:r.CONC,payload:!y})}}):null]}),Object(me.jsxs)("td",{style:{maxHeight:"300px",overflow:"auto"},children:[f.conclusion,-1!==f.conclusion.indexOf("let")?Object(me.jsx)(h.b,{isOpen:y,children:Object(me.jsx)(h.p,{style:{maxHeight:"300px",overflow:"auto"},id:"pre-rule",children:s(i(f.conclusion))})}):null]})]}),f.nDescendants?Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:Object(me.jsx)("strong",{children:"#DESCENDANTS"})}),Object(me.jsx)("td",{children:f.nDescendants})]}):null,f.nHided?Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:Object(me.jsx)("strong",{children:"#HIDDEN"})}),Object(me.jsx)("td",{children:"[".concat(f.hiddenNodes.map((function(e){return" "+e}))," ]")})]}):null,f.dependencies.length?Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:Object(me.jsx)("strong",{children:"DEPENDENCIES"})}),Object(me.jsx)("td",{children:"".concat(f.dependencies.map((function(e){return" ".concat(e.piId,": [").concat(e.depsId.map((function(e){return" "+e}))," ] ")})))})]}):null]})]})})]})}),Ye=(n(499),function e(t,n,r,s){var i=this;Object(Se.a)(this,e),this.name=void 0,this.value=void 0,this.lines=void 0,this.biggerID=void 0,this.isExpanded=void 0,this.externalLets=void 0,this.getTextWidth=function(e,t){var n=document.createElement("canvas").getContext("2d"),r=0;return n&&(n.font=t,r=n.measureText(e).width),r},this.expandValue=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object.keys(i.externalLets).map((function(e){return i.externalLets[e].let.name})),n=i.value,r=t.length-1;r>=0;r--)for(var s=t[r],o=i.externalLets[s].idx.length-1;o>=0;o--){var a=i.externalLets[s].idx[o];n=n.substring(0,a)+i.externalLets[s].let.expandValue()+n.substring(a+s.length,n.length)}return e&&(i.lines=[{value:n,indentLevel:0}],i.biggerID=0),n},this.expandPartialy=function(e,t){var n,r=e.name,s=i.printLines(),o=0,a=0;for(n=0;n<i.lines.length&&!(t<(a+=o=i.lines[n].value.length+4*i.lines[n].indentLevel+1));n++);var c=t-(a-o+4*i.lines[n].indentLevel);return i.lines[n].value=i.lines[n].value.substring(0,c)+e.value+i.lines[n].value.substring(c+r.length,i.lines[n].value.length),s.substring(0,t)+e.value+s.substring(t+r.length,s.length)},this.shrinkValue=function(){return i.lines=[{value:i.value,indentLevel:0}],i.biggerID=0,i.value},this.fitsTheWindow=function(e,t){var n=i.lines[i.biggerID];return i.getTextWidth("".concat("    ".repeat(n.indentLevel)).concat(n.value),t)<e},this.indent=function(e,t,n){var r;r=!!t||!(i.getTextWidth(i.lines[i.biggerID].value,n)<e);for(var s=function(){for(var t,s=i.lines,o=i.biggerID,a=[],c=s[o].indentLevel,l=s[o].value,d=-1,u=-1,h=-1,f=s[o].indentLevel-1,b=0,p=0,j=0;j<l.length;j++){var O=l[j];"("===O?++f===c+1&&(h=j):")"===O?(f===c?(")"!==l[j-1]&&a.push({value:l.substring(d+1,j),indentLevel:f+1}),a.push({value:")",indentLevel:f})):f===c+1&&a.push({value:l.substring(h,j+1),indentLevel:f}),f--):" "===O&&(d=j,f===c&&(")"!==l[j-1]&&a.push({value:l.substring(u+1,j),indentLevel:a.length?f+1:f}),u=j))}a.length>0&&(t=i.lines).splice.apply(t,[o,1].concat(a)),i.lines.forEach((function(e,t){var r=i.getTextWidth("".concat("    ".repeat(e.indentLevel)).concat(e.value),n);r>b&&(b=r,p=t)})),i.biggerID=p,(b<e||a.length<1)&&(r=!1)};r;)s();return i.printLines()},this.groupUp=function(){var e="";return i.lines.forEach((function(t,n,r){e+=t.value,n<r.length-1&&")"!==r[n+1].value&&(e+=" ")})),e},this.printLines=function(){return i.lines.reduce((function(e,t){return e+"".concat("    ".repeat(t.indentLevel)).concat(t.value,"\n")}),"")},this.name=t,this.value=n,this.lines=[{value:n,indentLevel:0}],this.biggerID=0,this.isExpanded=!1,this.externalLets={},Object.keys(s).forEach((function(e){var t=Number(e),n=s[t];i.externalLets[n]={let:r[n],idx:i.externalLets[n]?[].concat(Object(j.a)(i.externalLets[n].idx),[t]):[t]}}))}),qe="13px monospace",Xe=function(e){var t=e.id,n=e.toRender,r=e.letMap,i=e.shouldExpand,a=e.shouldRevert,c=e.dispatchExpansion,l=g(se),u=Object(o.useRef)(0),f=Object(o.useState)(0),p=Object(d.a)(f,2),O=p[0],m=p[1],x=Object(o.useState)(function(){var e=Object(b.a)({},r);return"("!==n[0]&&")"!==n[n.length]&&(n="(".concat(n,")")),e.this=n,e}()),v=Object(d.a)(x,2),y=v[0],N=v[1],w=Object(o.useRef)(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"this",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=y[t],s={};return Object(j.a)(r.matchAll(/let\d+/g)).forEach((function(e){e.index&&(s[e.index]=e[0])})),Object.keys(s).forEach((function(t){e(s[Number(t)],n)})),-1===Object.keys(n).indexOf(t)&&(n[t]=new Ye(t,r,n,s)),n}());Object(o.useEffect)((function(){function e(){var e=u.current,n=document.getElementsByClassName("let-render-".concat(t))[0].clientWidth-30;m(e===n?1:e>n?0:2),u.current=n}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(o.useEffect)((function(){i?(E("this"),c({type:s.EXPAND,payload:!1})):a&&(C("this"),c({type:s.REVERT,payload:!1}))}),[i,a]);var E=function(e){var t=w.current;t[e].isExpanded=!0,y[e]=t[e].expandValue(!0),N(Object(b.a)({},y))},C=function(e){var t=w.current;t[e].isExpanded&&(t[e].isExpanded=!1,y[e]=t[e].shrinkValue(),N(Object(b.a)({},y)))};return Object(me.jsx)(h.p,{className:"let-render-".concat(t),style:{maxHeight:"300px",overflow:"auto",margin:"0",whiteSpace:"pre-wrap"},children:function(){var e=w.current,t=u.current,n="this";if(t){var r=y.this,s={};Object(j.a)(r.matchAll(/let\d+/g)).forEach((function(e){void 0!==e.index&&(s[e.index]=e[0])})),e.this.fitsTheWindow(t,qe)?O>=0&&e.this.lines.length>1&&(e.this.lines=[{value:e.this.isExpanded?e.this.groupUp():e.this.value,indentLevel:0}],e.this.biggerID=0,r=e.this.indent(t,!1,qe),y.this=r,s={},Object(j.a)(r.matchAll(/let\d+/g)).forEach((function(e){e.index&&(s[e.index]=e[0])}))):(r=e.this.indent(t,!0,qe),y.this=r,s={},Object(j.a)(r.matchAll(/let\d+/g)).forEach((function(e){e.index&&(s[e.index]=e[0])})));var i=[],o=0;return Object.keys(s).forEach((function(e,t,a){var c=Number(e),d=s[c];i.push(r.substring(o,c)),i.push(Object(me.jsx)("a",{className:l?"let-literal-or":"let-literal",onClick:function(){!function(e,t,n){var r=w.current,s=r[t];r[e].isExpanded=!0,y[e]=r[e].expandPartialy(s,n),N(Object(b.a)({},y))}(n,d,c)},children:d})),o=c+d.length,t===a.length-1&&i.push(r.substring(o,r.length))})),Object.keys(s).length?Object(me.jsx)("span",{className:"let-instance",style:{overflowWrap:"break-word"},children:i}):Object(me.jsx)("span",{className:"let-instance",style:{overflowWrap:"break-word"},children:r})}return Object(me.jsx)(me.Fragment,{})}()})};function Je(e){switch(e.split(" ")[0]){case"\u03c0":return"This node hides some parts of the proof, you can unfold it.";case"ASSUME":return e+'\n\n======== Assumption (a leaf)\nChildren: none\nArguments: (F)\n--------------\nConclusion: F\n\nThis rule has special status, in that an application of assume is an open leaf in a proof that is not (yet) justified. An assume leaf is analogous to a free variable in a term, where we say "F is a free assumption in proof P" if it contains an application of F that is not  bound by SCOPE.';case"SCOPE":return e+"\n\n======== Scope (a binder for assumptions)\nChildren: (P:F)\nArguments: (F1, ..., Fn)\n--------------\nConclusion: (=> (and F1 ... Fn) F) or (not (and F1 ... Fn)) if F is false\n\nThis rule has a dual purpose with ASSUME. It is a way to close assumptions in a proof. We require that F1 ... Fn are free assumptions in P and say that F1, ..., Fn are not free in (SCOPE P). In other words, they are bound by this application. For example, the proof node: (SCOPE (ASSUME F) :args F) has the conclusion (=> F F) and has no free assumptions. More generally, a proof with no free assumptions always concludes a valid formula.";case"SUBS":return e+"\n\n======== Substitution\nChildren: (P1:F1, ..., Pn:Fn)\nArguments: (t, (ids)?)\n---------------------------------------------------------------\nConclusion: (= t t*sigma{ids}(Fn)*...*sigma{ids}(F1))\nwhere sigma{ids}(Fi) are substitutions, which notice are applied in reverse order. Notice that ids is a MethodId identifier, which determines how to convert the formulas F1, ..., Fn into substitutions.";case"REWRITE":return e+"\n\n======== Rewrite\nChildren: none\nArguments: (t, (idr)?)\n----------------------------------------\nConclusion: (= t Rewriter{idr}(t))\nwhere idr is a MethodId identifier, which determines the kind of rewriter to apply, e.g. Rewriter::rewrite.";case"EVALUATE":return e+"\n\n======== Evaluate\nChildren: none\n\nArguments: (t)\n----------------------------------------\nConclusion: (= t Evaluator::evaluate(t))\nNote this is equivalent to: (REWRITE t MethodId::RW_EVALUATE)";case"MACRO_SR_EQ_INTRO":return e+"\n\nIn this rule, we provide a term t and conclude that it is equal to its rewritten form under a (proven) substitution.\n\nChildren: (P1:F1, ..., Pn:Fn)\nArguments: (t, (ids (ida (idr)?)?)?)\n---------------------------------------------------------------\nConclusion: (= t t')\nwhere t' is Rewriter{idr}(t*sigma{ids, ida}(Fn)*...*sigma{ids, ida}(F1))\n\nIn other words, from the point of view of Skolem forms, this rule transforms t to t' by standard substitution + rewriting.\n\nThe arguments ids, ida and idr are optional and specify the identifier of the substitution, the substitution application and rewriter respectively to be used.";case"MACRO_SR_PRED_INTRO":return e+"\n\nIn this rule, we provide a formula F and conclude it, under the condition that it rewrites to true under a proven substitution.\n\nChildren: (P1:F1, ..., Pn:Fn)\nArguments: (F, (ids (ida (idr)?)?)?)\n---------------------------------------------------------------\nConclusion: F\nwhere Rewriter{idr}(F*sigma{ids, ida}(Fn)*...*sigma{ids, ida}(F1)) == true where ids and idr are method identifiers.\n\nMore generally, this rule also holds when: Rewriter::rewrite(toOriginal(F')) == true where F' is the result of the left hand side of the equality above. Here, notice that we apply rewriting on the original form of F', meaning that this rule may conclude an F whose Skolem form is justified by the definition of its (fresh) Skolem variables. For example, this rule may justify the conclusion (= k t) where k is the purification Skolem for t, e.g. where the original form of k is t.\n\nFurthermore, notice that the rewriting and substitution is applied only within the side condition, meaning the rewritten form of the original form of F does not escape this rule.";case"MACRO_SR_PRED_ELIM":return e+"\n\nIn this rule, if we have proven a formula F, then we may conclude its rewritten form under a proven substitution.\n\nChildren: (P1:F, P2:F1, ..., P_{n+1}:Fn)\nArguments: ((ids (ida (idr)?)?)?)\n----------------------------------------\nConclusion: F'\nwhere F' is Rewriter{idr}(F*sigma{ids, ida}(Fn)*...*sigma{ids, ida}(F1)). where ids and idr are method identifiers.\n\nWe rewrite only on the Skolem form of F, similar to MACRO_SR_EQ_INTRO.";case"MACRO_SR_PRED_TRANSFORM":return e+"\n\nIn this rule, if we have proven a formula F, then we may provide a formula G and conclude it if F and G are equivalent after rewriting under a proven substitution.\n\nChildren: (P1:F, P2:F1, ..., P_{n+1}:Fn)\nArguments: (G, (ids (ida (idr)?)?)?)\n----------------------------------------\nConclusion: G\nwhere Rewriter{idr}(F*sigma{ids, ida}(Fn)*...*sigma{ids, ida}(F1)) == Rewriter{idr}(G*sigma{ids, ida}(Fn)*...*sigma{ids, ida}(F1))\n\nMore generally, this rule also holds when:\n  Rewriter::rewrite(toOriginal(F')) == Rewriter::rewrite(toOriginal(G'))\nwhere F' and G' are the result of each side of the equation above. Here, original forms are used in a similar manner to MACRO_SR_PRED_INTRO above.";case"REMOVE_TERM_FORMULA_AXIOM":return e+"\n\n======== Remove Term Formulas Axiom\nChildren: none\nArguments: (t)\n---------------------------------------------------------------\nConclusion: RemoveTermFormulas::getAxiomFor(t).";case"THEORY_LEMMA":return e+'\n\n======== Theory lemma\nChildren: none\nArguments: (F, tid)\n---------------------------------------------------------------\nConclusion: F\nwhere F is a (T-valid) theory lemma generated by theory with TheoryId tid. This is a "coarse-grained" rule that is used as a placeholder if a theory did not provide a proof for a lemma or conflict.';case"THEORY_REWRITE":return e+"\n\n======== Theory Rewrite\nChildren: none\nArguments: (F, tid, rid)\n----------------------------------------\nConclusion: F\nwhere F is an equality of the form (= t t') where t' is obtained by applying the kind of rewriting given by the method identifier rid, which is one of: { RW_REWRITE_THEORY_PRE, RW_REWRITE_THEORY_POST, RW_REWRITE_EQ_EXT } Notice that the checker for this rule does not replay the rewrite to ensure correctness, since theory rewriter methods are not static. For example, the quantifiers rewriter involves constructing new bound variables that are not guaranteed to be consistent on each call.";case"PREPROCESS":return e+"\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F is an equality of the form t = t' where t was replaced by t' based on some preprocessing pass, or otherwise F was added as a new assertion by some preprocessing pass.";case"PREPROCESS_LEMMA":return e+"\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F was added as a new assertion by some preprocessing pass.";case"THEORY_PREPROCESS":return e+'\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F is an equality of the form t = Theory::ppRewrite(t) for some theory. Notice this is a "trusted" rule.';case"THEORY_PREPROCESS_LEMMA":return e+"\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F was added as a new assertion by theory preprocessing.";case"THEORY_EXPAND_DEF":return e+"\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F is an equality of the form t = t' where t was replaced by t' based on theory expand definitions.";case"WITNESS_AXIOM":return e+"\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F is an existential (exists ((x T)) (P x)) used for introducing a witness term (witness ((x T)) (P x)).";case"TRUST_REWRITE":return e+"\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F is an equality (= t t') that holds by a form of rewriting that could not be replayed during proof postprocessing.";case"TRUST_SUBS":return e+"\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F is an equality (= t t') that holds by a form of substitution that could not be replayed during proof postprocessing.";case"TRUST_SUBS_MAP":return e+"\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F is an equality (= t t') that holds by a form of substitution that could not be determined by the TrustSubstitutionMap. This inference may contain possibly multiple children corresponding to the formulas used to derive the substitution.";case"TRUST_SUBS_EQ":return e+"\n\nArguments: (F)\n---------------------------------------------------------------\nConclusion: F\nwhere F is a solved equality of the form (= x t) derived as the solved form of F', where F' is given as a child.";case"SAT_REFUTATION":return e+"\n\n========= SAT Refutation for assumption-based unsat cores\nChildren: (P1, ..., Pn)\nArguments: none\n---------------------\nConclusion: false\nNote: P1, ..., Pn correspond to the unsat core determined by the SAT solver.";case"RESOLUTION":return e+"\n\n======== Resolution\nChildren:\n(P1:C1, P2:C2)\nArguments: (pol, L)\n---------------------\nConclusion: C\nwhere\n- C1 and C2 are nodes viewed as clauses, i.e., either an OR node with each children viewed as a literal or a node viewed as a literal. Note that an OR node could also be a literal.\n- pol is either true or false, representing the polarity of the pivot on the first clause\n- L is the pivot of the resolution, which occurs as is (resp. under a NOT) in C1 and negatively (as is) in C2 if pol = true (pol = false).\nC is a clause resulting from collecting all the literals in C1, minus the first occurrence of the pivot or its negation, and C2, minus the first occurrence of the pivot or its negation, according to the policy above. If the resulting clause has a single literal, that literal itself is the result; if it has no literals, then the result is false; otherwise it's an OR node of the resulting literals.\n\nNote that it may be the case that the pivot does not occur in the clauses. In this case the rule is not unsound, but it does not correspond to resolution but rather to a weakening of the clause that did not have a literal eliminated.";case"CHAIN_RESOLUTION":return e+"\n\n======== N-ary Resolution\nChildren: (P1:C_1, ..., Pm:C_n)\nArguments: (pol_1, L_1, ..., pol_{n-1}, L_{n-1})\n---------------------\nConclusion: C\nwhere\n- let C_1 ... C_n be nodes viewed as clauses, as defined above\n- let \"C_1 <>_{L,pol} C_2\" represent the resolution of C_1 with C_2 with pivot L and polarity pol, as defined above\n- let C_1' = C_1 (from P1),\n- for each i > 1, let C_i' = C_{i-1} <>_{L_{i-1}, pol_{i-1}} C_i'\nThe result of the chain resolution is C = C_n'";case"FACTORING":return e+"\n\n======== Factoring\nChildren: (P:C1)\nArguments: ()\n---------------------\nConclusion: C2\nwhere Set representations of C1 and C2 is the same and the number of literals in C2 is smaller than that of C1";case"REORDERING":return e+"\n\n======== Reordering\nChildren: (P:C1)\nArguments: (C2)\n---------------------\nConclusion: C2\nwhere Set representations of C1 and C2 are the same and the number of literals in C2 is the same of that of C1";case"MACRO_RESOLUTION":return e+"\n\n======== N-ary Resolution + Factoring + Reordering\nChildren: (P1:C_1, ..., Pm:C_n)\nArguments: (C, pol_1, L_1, ..., pol_{n-1}, L_{n-1})\n---------------------\nConclusion: C\nwhere\n- let C_1 ... C_n be nodes viewed as clauses, as defined in RESOLUTION\n- let \"C_1 <>_{L,pol} C_2\" represent the resolution of C_1 with C_2 with pivot L and polarity pol, as defined in RESOLUTION\n- let C_1' be equal, in its set representation, to C_1 (from P1),\n- for each i > 1, let C_i' be equal, it its set representation, to C_{i-1} <>_{L_{i-1}, pol_{i-1}} C_i'\nThe result of the chain resolution is C, which is equal, in its set representation, to C_n'";case"MACRO_RESOLUTION_TRUST":return e+"\n\nAs MACRO_RESOLUTION but not checked\n\nMACRO_RESOLUTION definition:\n======== N-ary Resolution + Factoring + Reordering\nChildren: (P1:C_1, ..., Pm:C_n)\nArguments: (C, pol_1, L_1, ..., pol_{n-1}, L_{n-1})\n---------------------\nConclusion: C\nwhere\n- let C_1 ... C_n be nodes viewed as clauses, as defined in RESOLUTION\n- let \"C_1 <>_{L,pol} C_2\" represent the resolution of C_1 with C_2 with pivot L and polarity pol, as defined in RESOLUTION\n- let C_1' be equal, in its set representation, to C_1 (from P1),\n- for each i > 1, let C_i' be equal, it its set representation, to C_{i-1} <>_{L_{i-1}, pol_{i-1}} C_i'\nThe result of the chain resolution is C, which is equal, in its set representation, to C_n'";default:return e}}function Ke(e){var t,n=(null===(t=e.hiddenNodes)||void 0===t?void 0:t.length)?"".concat(e.id," : \u03c0 \u279c ").concat(e.conclusion):e.dependencies.length?"".concat(e.id," : \u03b2 \u279c ").concat(e.conclusion):"".concat(e.id," : ").concat(e.conclusion);return{id:e.id,icon:"graph",label:n,secondaryLabel:"".concat(e.rule),rule:e.rule,args:e.args,conclusion:e.conclusion,parentId:e.parents[0],descendants:e.descendants-1,nHided:e.hiddenNodes?e.hiddenNodes.length:0,hiddenNodes:e.hiddenNodes?e.hiddenNodes.map((function(e){return e.id})):[],childNodes:[],dependencies:e.dependencies,parentsId:e.parents,hasCaret:Boolean(e.descendants-1)}}function $e(e,t){var n=e.find((function(e){return e.id===t})),r=[];return n&&r.push(Ke(n)),r}var Ze=function(){var e=g(q),t=g(G),n=g(E),i=g(Y),a=g(se),c=Object(o.useState)([]),l=Object(d.a)(c,2),u=l[0],b=l[1],p=Object(o.useState)({rule:"",args:"",conclusion:"",nHided:0,nDescendants:0,hiddenNodes:[],dependencies:[]}),O=Object(d.a)(p,2),m=O[0],x=O[1],v=Object(o.useState)({}),y=Object(d.a)(v,2),N=y[0],w=y[1],C=Object(o.useReducer)((function(e,t){var n=t.type,s=t.payload;if(n===r.ALL)for(var i=0;i<e.length;i++)e[i]=s;else if(s)for(var o=0;o<e.length;o++)e[o]=o===n&&s;else e[n]=s;return Object(j.a)(e)}),[!1,!1,!1]),S=Object(d.a)(C,2),I=Object(d.a)(S[0],3),k=I[0],R=I[1],T=I[2],F=S[1],P=Object(o.useReducer)((function(e,t){for(var n=t.type,r=t.payload,s=0;s<e.length;s++)e[s]=s===n&&r;return Object(j.a)(e)}),[!1,!1]),A=Object(d.a)(P,2),_=Object(d.a)(A[0],2),D=_[0],L=_[1],M=A[1],U=Object(o.useState)(!1),H=Object(d.a)(U,2),Q=H[0],B=H[1],W=Object(o.useState)([]),V=Object(d.a)(W,2),z=V[0],X=V[1];Object(o.useEffect)((function(){return b($e(t,0))}),[n]),Object(o.useEffect)((function(){var e={};t.forEach((function(t,n){return e[t.id]=n})),w(e)}),[t]);return Object(me.jsx)("div",{onContextMenu:function(e){return e.preventDefault()},children:t.length>1&&Object(me.jsxs)(me.Fragment,{children:["graph"===i?Object(me.jsx)(We,{proof:t,openDrawer:function(e,t){x(e),X(t||[]),B(!0)},createTree:$e},n):Object(me.jsx)(ze,{proofTree:u,ruleHelper:Je,indent:function(){return""},translate:function(){return""}}),Object(me.jsx)(h.f,{className:a?"bp3-dark":"",autoFocus:!0,canEscapeKeyClose:!0,canOutsideClickClose:!0,enforceFocus:!0,hasBackdrop:!1,isOpen:Q,position:f.a.BOTTOM,usePortal:!0,onClose:function(e){e.preventDefault(),B(!1),F({type:r.ALL,payload:!1})},icon:"info-sign",title:"Node info",children:Object(me.jsxs)("div",{className:we.a.DRAWER_BODY,children:[Object(me.jsx)("div",{style:{maxHeight:"500px",overflow:"auto"},children:Object(me.jsx)(Ve,{darkTheme:a,proof:t,positionMap:N,content:z,setNodeInfo:x})}),Object(me.jsx)("div",{className:we.a.DIALOG_BODY,children:Object(me.jsxs)("table",{id:"table-node-info",className:"bp3-html-table bp3-html-table-bordered bp3-html-table-condensed bp3-html-table-striped",style:{width:"100%"},children:[Object(me.jsx)("thead",{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("th",{children:"Property"}),Object(me.jsx)("th",{children:"Value"})]})}),Object(me.jsxs)("tbody",{children:[Object(me.jsxs)("tr",{children:[Object(me.jsxs)("td",{children:[Object(me.jsx)("strong",{children:"RULE "}),Object(me.jsx)(h.h,{id:"icon",icon:"help",onClick:function(){F({type:r.RULE,payload:!k})}})]}),Object(me.jsxs)("td",{children:[m.rule,Object(me.jsx)(h.b,{isOpen:k,children:Object(me.jsx)(h.p,{style:{maxHeight:"300px",overflow:"auto"},id:"pre-rule",children:Je(m.rule)})})]})]}),m.args&&Object(me.jsxs)("tr",{children:[Object(me.jsxs)("td",{children:[Object(me.jsx)("strong",{children:"ARGS"})," ",-1!==m.args.indexOf("let")?Object(me.jsx)(h.h,{id:"icon",icon:"translate",onClick:function(){F({type:r.ARGS,payload:!R})}}):null]}),Object(me.jsxs)("td",{style:{maxHeight:"300px",overflow:"auto"},children:[m.args,-1!==m.args.indexOf("let")?Object(me.jsx)(h.b,{isOpen:R,children:Object(me.jsx)(h.p,{style:{maxHeight:"300px",overflow:"auto"},id:"pre-rule",children:m.args})}):null]})]}),Object(me.jsxs)("tr",{children:[Object(me.jsxs)("td",{style:{maxHeight:"300px",overflow:"auto"},children:[Object(me.jsx)("strong",{children:"CONCLUSION"})," ",-1!==m.conclusion.indexOf("let")?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(h.h,{id:"icon",icon:"translate",onClick:function(){F({type:r.CONC,payload:!T}),M({type:s.EXPAND,payload:!0})}}),Object(me.jsx)(h.h,{id:"icon",icon:"undo",onClick:function(){F({type:r.CONC,payload:!1}),M({type:s.REVERT,payload:!0})}})]}):null]}),Object(me.jsx)("td",{style:{maxHeight:"300px",overflow:"auto"},children:-1!==m.conclusion.indexOf("let")?Object(me.jsx)(Xe,{id:0,toRender:m.conclusion,letMap:e,shouldExpand:D,shouldRevert:L,dispatchExpansion:M}):null})]}),m.nDescendants?Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:Object(me.jsx)("strong",{children:"#DESCENDANTS"})}),Object(me.jsx)("td",{children:m.nDescendants})]}):null,m.nHided?Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:Object(me.jsx)("strong",{children:"#HIDDEN"})}),Object(me.jsx)("td",{children:"[".concat(m.hiddenNodes.map((function(e){return" "+e}))," ]")})]}):null,m.dependencies.length?Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:Object(me.jsx)("strong",{children:"DEPENDENCIES"})}),Object(me.jsx)("td",{children:"".concat(m.dependencies.map((function(e){return" ".concat(e.piId,": [").concat(e.depsId.map((function(e){return" "+e}))," ] ")})))})]}):null]})]})})]})})]})})},et=(n(500),n(501),'14px / 18px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", Icons16, sans-serif'),tt=function(e){var t=e.shouldResize,n=g(se),r=Object(o.useRef)(0),s=Object(o.useState)(0),i=Object(d.a)(s,2),a=i[0],c=i[1],l=Object(o.useState)(Object(b.a)({},g(q))),u=Object(d.a)(l,2),f=u[0],p=u[1],O=Object(o.useRef)({});function m(){var e=r.current,t=document.getElementsByClassName("letMap-value-column")[0].clientWidth-24;c(e===t?1:e>t?0:2),r.current=t}Object(o.useEffect)((function(){return window.addEventListener("resize",m),m(),Object.keys(f).forEach((function(e){var t=f[e],n={};Object(j.a)(t.matchAll(/let\d+/g)).forEach((function(e){e.index&&(n[e.index]=e[0])})),O.current[e]=new Ye(e,t,O.current,n)})),function(){return window.removeEventListener("resize",m)}}),[]),Object(o.useEffect)((function(){m()}),[t]);var x=function(e){var t=O.current,s=r.current;if(s){var i=f[e],o=t[e];o.fitsTheWindow(s,et)?a>=0&&o.lines.length>1&&(o.lines=[{value:o.isExpanded?o.groupUp():o.value,indentLevel:0}],o.biggerID=0,i=o.indent(s,!1,et),f[e]=i):(i=o.indent(s,!0,et),f[e]=i);var c={};Object(j.a)(i.matchAll(/let\d+/g)).forEach((function(e){e.index&&(c[e.index]=e[0])}));var l=[],d=0;return Object.keys(c).forEach((function(t,r,s){var o=Number(t),a=c[o];l.push(i.substring(d,o)),l.push(Object(me.jsx)("a",{className:n?"let-literal-or":"let-literal",onClick:function(){!function(e,t,n){var r=O.current,s=r[t];r[e].isExpanded=!0,f[e]=r[e].expandPartialy(s,n),p(Object(b.a)({},f))}(e,a,o)},children:a})),d=o+a.length,r===s.length-1&&l.push(i.substring(d,i.length))})),Object.keys(c).length?Object(me.jsx)("span",{className:"let-instance",children:l}):Object(me.jsx)("span",{className:"let-instance",children:i})}return Object(me.jsx)(me.Fragment,{})};return Object(me.jsx)("div",{className:we.a.DIALOG_BODY,children:Object(me.jsxs)("table",{id:"table-node-info-2",className:"bp3-html-table bp3-html-table-bordered bp3-html-table-condensed bp3-html-table-striped",style:{width:"100%"},children:[Object(me.jsx)("thead",{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("th",{style:{width:"50px"},children:"Property"}),Object(me.jsx)("th",{className:"letMap-value-column",children:"Value"}),Object(me.jsx)("th",{style:{width:"100px"},children:"Action"})]})}),Object(me.jsx)("tbody",{children:Object.keys(f).map((function(e,t){return Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:Object(me.jsx)("strong",{children:e})}),Object(me.jsx)("td",{style:{width:"100%",whiteSpace:"pre-wrap"},children:x(e)}),Object(me.jsxs)("td",{style:{width:"100px",height:"100%"},children:[Object(me.jsx)(h.a,{onClick:function(){return function(e){var t=O.current[e];t.isExpanded=!0,f[e]=t.expandValue(!0),p(Object(b.a)({},f))}(e)},className:"bp3-minimal",icon:"translate",text:"Expand"}),Object(me.jsx)(h.a,{onClick:function(){return function(e){var t=O.current[e];t.isExpanded&&(t.isExpanded=!1,f[e]=t.shrinkValue(),p(Object(b.a)({},f)))}(e)},className:"bp3-minimal",icon:"undo",text:"Revert"})]})]},t)}))})]})})},nt='14px / 18px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", Icons16, sans-serif',rt=function(e){var t=e.shouldResize,n=g(se),r=g(q),s=Object(o.useRef)(0),i=Object(o.useState)(Object(j.a)(g(X))),a=Object(d.a)(i,2),c=a[0],l=a[1],u=Object(o.useState)(0),f=Object(d.a)(u,2),b=f[0],p=f[1],O=Object(o.useRef)({});function m(){var e=s.current,t=document.getElementsByClassName("theoryLemma-value-column")[0].clientWidth-24;p(e===t?1:e>t?0:2),s.current=t}Object(o.useEffect)((function(){return window.addEventListener("resize",m),m(),Object.keys(r).forEach((function(e){var t=r[e],n={};Object(j.a)(t.matchAll(/let\d+/g)).forEach((function(e){e.index&&(n[e.index]=e[0])})),O.current[e]=new Ye(e,t,O.current,n)})),c.forEach((function(e,t){var n={};Object(j.a)(e.matchAll(/let\d+/g)).forEach((function(e){e.index&&(n[e.index]=e[0])})),O.current[t]=new Ye(String(t),e,O.current,n)})),function(){return window.removeEventListener("resize",m)}}),[]),Object(o.useEffect)((function(){m()}),[t]);var x=function(e){var t=O.current,r=s.current;if(r){var i=c[e],o=t[e];o.fitsTheWindow(r,nt)?b>=0&&o.lines.length>1&&(o.lines=[{value:o.isExpanded?o.groupUp():o.value,indentLevel:0}],o.biggerID=0,i=o.indent(r,!1,nt),c[e]=i):(i=o.indent(r,!0,nt),c[e]=i);var a={};Object(j.a)(i.matchAll(/let\d+/g)).forEach((function(e){e.index&&(a[e.index]=e[0])}));var d=[],u=0;return Object.keys(a).forEach((function(t,r,s){var o=Number(t),h=a[o];d.push(i.substring(u,o)),d.push(Object(me.jsx)("a",{className:n?"let-literal-or":"let-literal",onClick:function(){!function(e,t,n){var r=O.current,s=r[t];r[e].isExpanded=!0,c[e]=r[e].expandPartialy(s,n),l(Object(j.a)(c))}(e,h,o)},children:h})),u=o+h.length,r===s.length-1&&d.push(i.substring(u,i.length))})),Object.keys(a).length?Object(me.jsx)("span",{className:"let-instance",children:d}):Object(me.jsx)("span",{className:"let-instance",children:i})}return Object(me.jsx)(me.Fragment,{})};return Object(me.jsx)("div",{className:we.a.DIALOG_BODY,children:Object(me.jsxs)("table",{id:"table-node-info-2",className:"bp3-html-table bp3-html-table-bordered bp3-html-table-condensed bp3-html-table-striped",style:{width:"100%",minWidth:"230px"},children:[Object(me.jsx)("thead",{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("th",{className:"theoryLemma-value-column",children:"Value"}),Object(me.jsx)("th",{style:{width:"100px"},children:"Action"})]})}),Object(me.jsx)("tbody",{children:c.map((function(e,t){return Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{style:{width:"100%",whiteSpace:"pre-wrap"},children:x(t)}),Object(me.jsxs)("td",{style:{width:"100px",height:"100%"},children:[Object(me.jsx)(h.a,{onClick:function(){return function(e){var t=O.current[e];t.isExpanded=!0,c[e]=t.expandValue(!0),l(Object(j.a)(c))}(t)},className:"bp3-minimal",icon:"translate",text:"Expand"}),Object(me.jsx)(h.a,{onClick:function(){return function(e){var t=O.current[e];t.isExpanded&&(t.isExpanded=!1,c[e]=t.shrinkValue(),l(Object(j.a)(c)))}(t)},className:"bp3-minimal",icon:"undo",text:"Revert"})]})]},t)}))})]})})},st=function(e){var t=e.drawerIsOpen,n=e.setDrawerIsOpen,r=g(se),s=g($),a=m(),c=Object(o.useState)("lm"),l=Object(d.a)(c,2),u=l[0],b=l[1],p=Object(o.useState)([!1,!1]),O=Object(d.a)(p,2),x=O[0],v=O[1],y=function(e){e===i.NONE?a(U(s.reduce((function(e,t){return e.concat(t.hiddenNodes)}),[]))):a(U(s.reduce((function(t,n){return n.type===e?t.concat(n.hiddenNodes):t}),[])))},N={view:Object(me.jsxs)("div",{className:"view-infos "+we.a.DIALOG_BODY,children:[Object(me.jsxs)("div",{className:"bts",children:[Object(me.jsx)(h.a,{text:"Full",onClick:function(e){e.preventDefault(),a(B("full")),a(le())}}),Object(me.jsx)(h.a,{text:"Clustered",onClick:function(e){e.preventDefault(),a(B("clustered")),a(le())}}),Object(me.jsx)(h.a,{text:"Full and Colored",onClick:function(e){e.preventDefault(),a(B("colored-full")),a(le())}})]}),Object(me.jsxs)("div",{className:"views-color-map",children:[Object(me.jsx)("span",{onClick:function(){return y(i.NONE)},children:"\u2b1c First Scope"}),Object(me.jsx)("span",{onClick:function(){return y(i.SAT)},children:"\ud83d\udfea SAT"}),Object(me.jsx)("span",{onClick:function(){return y(i.CNF)},children:"\ud83d\udfe8 CNF"}),Object(me.jsx)("span",{onClick:function(){return y(i.TL)},children:"\ud83d\udfe9 Theory Lemma"}),Object(me.jsx)("span",{onClick:function(){return y(i.PP)},children:"\ud83d\udfeb Pre Processing"}),Object(me.jsx)("span",{onClick:function(){return y(i.IN)},children:"\ud83d\udfe6 Input"})]})]}),letMap:Object(me.jsx)(tt,{shouldResize:x[0]}),theoryLemma:Object(me.jsx)(rt,{shouldResize:x[1]})};return Object(me.jsx)(h.f,{className:r?"bp3-dark":"",style:{maxHeight:"65%",width:"35%"},autoFocus:!0,canEscapeKeyClose:!0,canOutsideClickClose:!1,enforceFocus:!1,hasBackdrop:!1,isOpen:t,position:f.a.RIGHT,usePortal:!1,onClose:function(e){e.preventDefault(),n(!1)},icon:"applications",title:"Visualizers",children:Object(me.jsx)("div",{className:we.a.DRAWER_BODY,children:Object(me.jsxs)(h.s,{id:"services-tabs",onChange:function(e,t,n){b(e);var r=Object(j.a)(x);"lm"===e?r[0]=!r[0]:"tl"===e&&(r[1]=!r[1]),v(r)},selectedTabId:u,children:[Object(me.jsx)(h.r,{id:"vw",title:"View",panel:N.view,className:"services-tab"}),Object(me.jsx)(h.r,{id:"lm",title:"Let Map",panel:N.letMap,className:"services-tab"}),Object(me.jsx)(h.r,{id:"tl",title:"Theory Lemma",panel:N.theoryLemma,className:"services-tab"})]})})})},it=(n(502),function(e){var t=e.setIsOpen,n=e.nextTutorial,r=e.content,s=e.W,i=e.position,a=Object(o.useState)(0),c=Object(d.a)(a,2),l=c[0],u=c[1],f=g(se),b=function(e){u(">"===e?l+1:l-1)};return Object(o.useEffect)((function(){function e(e){e.stopPropagation(),"Escape"===e.key&&t(!1)}return window.addEventListener("keydown",e,!1),function(){window.removeEventListener("keydown",e,!1)}}),[]),Object(me.jsxs)("div",{className:f?"bp3-dark":"",children:[Object(me.jsx)("div",{className:"arrow-up",style:{left:i.tW,top:i.y-7,borderBottomColor:f?"rgb(30, 38, 44)":"rgb(255,255,255)"}}),Object(me.jsxs)("div",{className:"tutorial-popover bp3-dialog",style:{width:s,left:i.x,top:i.y},children:[Object(me.jsxs)("div",{className:"bp3-dialog-header",children:[Object(me.jsx)("div",{className:"cur-page",children:r.map((function(e,t){return Object(me.jsx)("div",{className:"page-ball ".concat(t===l&&(f?"page-on":"page-on-light"))},t)}))}),Object(me.jsx)(h.h,{icon:"small-cross",size:20,onClick:function(){return t(!1)}})]}),Object(me.jsxs)("body",{children:[l>0&&Object(me.jsx)("div",{className:"next-page regress",onClick:function(e){e.stopPropagation(),b("<")},children:"<"}),Object(me.jsx)("p",{className:"content",children:r[l]}),l<r.length-1&&Object(me.jsx)("div",{className:"next-page progress",onClick:function(e){e.stopPropagation(),b(">")},children:">"})]}),l===r.length-1&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(h.e,{style:{backgroundColor:f?"white":""}}),Object(me.jsx)("div",{className:"bp3-dialog-footer",children:Object(me.jsx)(h.a,{text:"Next",onClick:function(e){e.stopPropagation(),n(),u(0)}})})]})]})]})}),ot=180,at=["proof-visualizer-name","upload-proof-bt","examples-bt","file-name-title","command","style-bt","visualizers-bt","download-bt","switch-button-dark-theme"],ct=[["This website is a SMT solver proofs visualizer. Let's start the tutorial"],["Here you can upload your proofs to be visualized.","The proofs can have a .dot or .json format.","The .json format is obtained in the download section."],["Here you can visualize some examples of differents proofs."],["This is the name of the current proof uploaded"],["This is the command section. Here you can apply some commands that will transform the proof, changing the way you comprehend it.","Click in the '?' button to see a description of all commands."],["Here you can change the way the visualizer presents the proof.","The graph style is the default and it's where the commands transformations happens.","In the directory style each proof node is a 'folder' and your children nodes are inside it."],["Here you have access to 3 visualizers:","View: It allow you to change the way the proof nodes are viewed.","Let Map: Here you can see a map of all the LETS used inside the proofs. A let is a therm that shorten some expression (e.g.: let1 = (and A B))","Theory Lemma: It allow you to see all the theory lemmas in the proof construction."],["This section allow you to download the proof in different ways.",".DOT is the default format. It only holds informations about the proof structure and your clusters.",".JSON allow the user to save all the visual informations about the proof (i.e. the nodes positions, colors and foldings after any transformation applied) and your structural infos just like the .DOT.",".PNG prints the proof in the current state (i.e. includes all the transformations) into a image."],["Allow to change between dark/light mode."]],lt=function(e){var t=e.inTutorial,n=e.setInTutorial,r=Object(o.useState)(-1),s=Object(d.a)(r,2),i=s[0],a=s[1],c=Object(o.useState)({x:0,y:0,tW:0}),l=Object(d.a)(c,2),u=l[0],f=l[1],b=Object(o.useRef)({w:0,h:0});return Object(o.useEffect)((function(){function e(){b.current.w=window.innerWidth,b.current.h=window.innerHeight}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(o.useEffect)((function(){a(t?0:-1)}),[t]),Object(o.useEffect)((function(){var e=document.getElementById(at[i]);if(e){var t=e.getClientRects()[0],n=t.x,r=t.y,s=t.width,o=r+t.height,a=n+s/2,c=a;a<ot?a=3:a+90>b.current.w?a=b.current.w-ot-3:a-=90,f({x:a,y:o,tW:c})}}),[i]),Object(me.jsx)(h.o,{className:"tutorial-portal",children:Object(me.jsx)("div",{className:"bp3-overlay-enter-done",style:{width:b.current.w,height:b.current.h,pointerEvents:i>=0?"auto":"none",backgroundColor:i>=0?"rgba(87, 82, 82, 0.233)":"transparent"},children:i>=0&&Object(me.jsx)(it,{setIsOpen:n,nextTutorial:function(){i<ct.length-1?a(i+1):n(!1)},content:ct[i],W:ot,position:u})})})},dt=function(){var e,t=Object(o.useState)(!0),n=Object(d.a)(t,2),r=n[0],s=n[1],i=Object(o.useState)(!1),a=Object(d.a)(i,2),c=a[0],l=a[1],b=Object(o.useReducer)((function(e){return!e}),!1),p=Object(d.a)(b,2),j=p[0],O=p[1],m=g(se),x={toaster:function(t){return e=t}},v=function(t){e.show({icon:"warning-sign",intent:u.a.DANGER,message:t})};return Object(o.useEffect)((function(){document.getElementsByClassName("bp3-overlay")[0]&&(document.getElementsByClassName("bp3-overlay")[0].className="")}),[j]),Object(me.jsxs)("div",{className:m?" bp3-dark":"",style:{height:"100%"},children:[Object(me.jsx)(lt,{inTutorial:c,setInTutorial:l}),Object(me.jsx)(h.t,{position:f.a.TOP,ref:x.toaster}),Object(me.jsx)(xe,{setDialogIsOpen:s,setDrawerIsOpen:O,addErrorToast:v,inTutorial:c,setInTutorial:l}),Object(me.jsx)(Ce,{dialogIsOpen:r,setDialogIsOpen:s,addErrorToast:v}),Object(me.jsx)(Ze,{}),j?Object(me.jsx)(st,{drawerIsOpen:j,setDrawerIsOpen:O}):null]})},ut=Object(x.a)({reducer:{file:C,proof:Z,theme:ie,externalCmd:je}}),ht=(n(503),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,514)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),s(e),i(e),o(e)}))});l.a.render(Object(me.jsx)(a.a.StrictMode,{children:Object(me.jsx)(O.a,{store:ut,children:Object(me.jsx)(dt,{})})}),document.getElementById("root")),ht()}},[[504,1,2]]]);
//# sourceMappingURL=main.abd9845e.chunk.js.map